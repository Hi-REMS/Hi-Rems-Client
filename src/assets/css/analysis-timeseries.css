/* =========================================================
   Analysis Timeseries â€” Page-Scope Styles
   (scoped with .ts-page to avoid global collisions)
   ========================================================= */
.ts-page{
  --page-bg: var(--bg);
  --card: var(--surface);
  --card-2: var(--surface-2);
  --card-3: color-mix(in srgb, var(--surface-2) 88%, var(--bg) 12%);

  --border-1: var(--border);
  --text-1: var(--text);
  --muted-1: var(--muted);
  --accent-1: var(--accent);

  --input-bg: var(--card-2);
  --input-text: var(--text-1);
  --btn-bg: color-mix(in srgb, var(--accent-1) 38%, var(--card-2) 62%);
  --btn-text: color-mix(in srgb, #ffffff 92%, var(--text-1) 8%);
  --btn-hover-bg: color-mix(in srgb, var(--accent-1) 48%, var(--card-2) 52%);

  --chart-line: color-mix(in srgb, var(--accent-1) 85%, var(--text-1) 15%);
  --chart-line-2: color-mix(in srgb, var(--accent-1) 65%, var(--text-1) 35%);
  --chart-dot-stroke: color-mix(in srgb, var(--bg) 85%, #000 15%);
  --chart-grid: color-mix(in srgb, var(--text-1) 10%, transparent);
  --chart-axis: var(--border-1);
  --tooltip-bg: color-mix(in srgb, var(--surface) 96%, transparent);
  --tooltip-stroke: var(--border-1);

  background: var(--page-bg);
  color: var(--text-1);
  min-height: 100vh;
  padding: 18px 22px 28px;
  position: relative;

  /* ghost ë²„íŠ¼ ëŒ€ë¹„ìƒ‰ */
  --ghost-fg: #0b1220;
}
html[data-theme="dark"] .ts-page{ --ghost-fg: #eaf6ff; }

/* Toolbar */
.ts-page .toolbar{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; background:var(--card); border:1px solid var(--border-1);
  border-radius:14px; padding:10px 12px; margin-bottom:16px;
}


.ts-page .tool-left{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; min-width:0; }
.ts-page .lbl{ color:var(--muted-1); font-size:12px; }

/* Inputs */
.ts-page .input{
  font-size:14px !important;
  background:var(--input-bg); color:var(--input-text);
  border:1px solid var(--border-1); border-radius:10px;
  padding:8px 10px; min-width:260px; outline:none;
}
.ts-page .sel{ min-width:150px; }
.ts-page .chk{ color:var(--muted-1); font-size:12px; display:flex; align-items:center; gap:6px; }


/* Buttons (Page scope) */
.ts-page .btn{
  background: var(--btn-bg);
  color: var(--btn-text);
  border:1px solid color-mix(in srgb, var(--accent-1) 30%, var(--border-1) 70%);
  border-radius:10px; padding:10px 16px; font-weight:700; cursor:pointer;
  transition: background-color .15s ease, filter .15s ease, box-shadow .15s ease, border-color .15s ease;
  height: 40px; line-height: 1; white-space: nowrap;
  box-shadow: none;
}
.ts-page .btn:hover{ background: var(--btn-hover-bg); box-shadow:none; }
.ts-page .btn:disabled{ cursor:not-allowed; }

.ts-page .tool-right{
  display:flex; flex-direction: row; align-items:center; justify-content:flex-end; gap:8px;
  flex-wrap: nowrap; min-width: max-content;
}

/* Primary */
.ts-page .btn.primary{
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--accent-1) 62%, #0f2332 38%) 0%,
    color-mix(in srgb, var(--accent-1) 38%, #081521 62%) 100%);
  color:#eaf6ff;
  border:1px solid color-mix(in srgb, var(--accent-1) 52%, #05273a 48%);
  font-weight:800;
}
.ts-page .btn.primary:hover{
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--accent-1) 68%, #11283a 32%) 0%,
    color-mix(in srgb, var(--accent-1) 44%, #0a1a29 56%) 100%);
}
/* ì‹œê°„ëŒ€ë³„ ë‚ ì”¨ ìŠ¤íŠ¸ë¦½ (wx-strip) */
.wx-strip {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* svg ìì²´ë¥¼ ë°˜ì‘í˜•ìœ¼ë¡œ ì¡°ì • */
.wx-svg {
  width: 100%;
  height: auto;
  max-width: none;
  aspect-ratio: 720 / 140;
  display: block;
}

/* ëª¨ë°”ì¼ì—ì„œ ì„¸ë¡œê³µê°„ ì¡°ê¸ˆ ë” í™•ë³´ */
@media (max-width: 768px) {
  .wx-svg {
    aspect-ratio: 720 / 200; /* ì„¸ë¡œë¥¼ ì•½ê°„ í‚¤ì›€ */
  }
  .wx-strip {
    margin-top: 4px;
  }
}

/* Ghost */
.ts-page .btn.ghost{
  background: transparent !important;
  color: var(--ghost-fg) !important;
  -webkit-text-fill-color: var(--ghost-fg) !important;
  border: 1px solid color-mix(in srgb, var(--border-1) 65%, var(--text-1) 35%);
}
.ts-page .btn.ghost:hover{
  background: color-mix(in srgb, currentColor 6%, transparent);
  border-color: color-mix(in srgb, var(--border-1) 55%, var(--text-1) 45%);
}
/* Ghostë¥¼ ê·¸ë£¹ ì™¼ìª½ìœ¼ë¡œ */
.ts-page .tool-right .btn.ghost{ margin-right: auto; }

/* Grid & Cards */
.ts-page .row{ display:grid; grid-template-columns: repeat(12,minmax(0,1fr)); gap:16px; margin-top:16px; }
.ts-page .col-9{ grid-column: span 9; } .ts-page .col-3{ grid-column: span 3; } .ts-page .col-6{ grid-column: span 6; }
.ts-page .card{
  background: var(--card);
  border:1px solid var(--border-1);
  border-radius:14px;
  box-shadow: none;
  overflow:hidden;
}
.ts-page .card-hd{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 14px; border-bottom:1px solid var(--border-1);
}
.ts-page .card-hd h3{
  margin:0; font-size:14px; letter-spacing:.2px;
  max-width:100%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
}
.ts-page .card-actions{ display:flex; gap:8px; align-items:center; }
.ts-page .empty{ padding:16px; color:var(--muted-1); }

/* KPI */
.ts-page .kpi-row{ display:grid; grid-template-columns: repeat(6, minmax(0,1fr)); gap:16px; }
.ts-page .kpi{
  background: var(--card-2);
  border:1px solid var(--border-1);
  border-radius:14px; padding:14px; min-width:0;
}
.ts-page .kpi-hd{ display:flex; justify-content:space-between; align-items:center; color:var(--muted-1); font-size:12px; }
.ts-page .kpi-title{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-width:80%; }
.ts-page .kpi-main{ display:flex; align-items:baseline; gap:6px; flex-wrap: wrap; }
.ts-page .kpi-value{ font-size:20px; font-weight:800; line-height:1; min-width:0; }
.ts-page .kpi-unit{ font-size:12px; color:var(--muted-1); white-space:nowrap; }
.ts-page .kpi-sub{ color:var(--muted-1); font-size:12px; margin-top:4px; }
.ts-page .kpi-ico{ opacity:.45; }

/* Chart */
.ts-page .chart-placeholder{ padding:10px 12px 12px; }
.ts-page .svg-chart{ width:100%; height:360px; }
.ts-page .svg-chart .grid line{ stroke: var(--chart-grid); shape-rendering: crispEdges; }
.ts-page .svg-chart .axis line{ stroke: var(--chart-axis); shape-rendering: crispEdges; }
.ts-page .svg-chart .axis text{ fill: var(--muted-1); font-size: 11px; }
.ts-page .svg-chart .axis-title{ fill: var(--muted-1); font-size: 11px; font-weight: 600; }
.ts-page .svg-chart .bar{ transition: y .15s ease, height .15s ease; }
.ts-page .svg-chart .bar:hover{ opacity: .95; }
.ts-page .svg-chart .line{ stroke: var(--chart-line); stroke-width:3; fill:none; opacity:.75; }
.ts-page .svg-chart .hover-line{ stroke: var(--chart-line-2); stroke-width:1.5; stroke-dasharray:3 4; opacity:.9; }
.ts-page .svg-chart .dot{ fill: var(--chart-line); stroke: var(--chart-dot-stroke); stroke-width:1 }
.ts-page .svg-chart .hit{ fill:transparent; cursor:crosshair; }
.ts-page .svg-chart .tt{ fill: var(--tooltip-bg); stroke: var(--tooltip-stroke); }
.ts-page .svg-chart .tt-text{ fill: var(--text-1); font-size: 12px; }

.ts-page .legend .linekey{
  display:inline-block; width:12px; height:4px; border-radius:2px;
  background: var(--chart-line); margin-right:6px; transform:translateY(-2px);
}
.ts-page .bar-labels .bar-label{
  font-size:12px; fill: var(--text-1);
  paint-order: stroke; stroke: var(--chart-dot-stroke); stroke-width:3px;
  pointer-events:none;
}

/* Key-Value list */
.ts-page .kv{ list-style:none; margin:0; padding:10px 14px 14px; display:grid; gap:10px; }
.ts-page .kv li{ display:flex; align-items:center; justify-content:space-between; font-size:13px; color:var(--muted-1); gap:8px; }
.ts-page .kv span{ min-width:0; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.ts-page .kv strong{ color:var(--text-1); }

/* Table */
.ts-page .table-wrap { overflow:auto; }
.ts-page .tbl { width:100%; border-collapse: separate; border-spacing:0; }
.ts-page .tbl thead th {
  text-align:left; font-weight:600; font-size:13px; padding:10px 12px;
  border-bottom:1px solid rgba(255,255,255,.08);
  white-space:nowrap;
}
.ts-page .tbl tbody td {
  font-size:13px; padding:10px 12px; border-bottom:1px solid rgba(255,255,255,.05);
  white-space:nowrap;
}
.ts-page .tbl.compact tbody tr:hover { background: rgba(255,255,255,.03); }
.ts-page .num { text-align:right; font-variant-numeric: tabular-nums; }
.ts-page .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
.ts-page .thin-scroll { scrollbar-width: thin; }

/* Small buttons */
.ts-page .btn.sm{ padding:6px 10px; font-size:12px; }

/* Chips */
.ts-page .chip{
  display:inline-flex; gap:8px; align-items:center;
  padding:4px 10px; border-radius:999px;
  background:rgba(255,255,255,.06);
  font-size:12px;
}

/* Row click */
.ts-page .row-click{ cursor:pointer; transition: background-color .15s ease; }
.ts-page .row-click:hover{ background: rgba(255,255,255,.05); }

/* Facility Image â€” card context (í•˜ë‚˜ë§Œ ë‚¨ê¹€) */
.ts-page .facility-card .facility-img { margin-bottom: 12px; }

/* Loading overlay (page-scoped, absolute) */
.ts-page .loading-overlay{
  position:absolute; inset:0; display:flex; flex-direction:column;
  align-items:center; justify-content:center; gap:14px;
  background: color-mix(in srgb, var(--bg) 55%, transparent);
  backdrop-filter: blur(2px);
  z-index: 50;
}
.ts-page .spinner-neo{
  width:56px; height:56px; border-radius:50%;
  background: conic-gradient(from 0turn, var(--accent-1),
      color-mix(in srgb, var(--accent-1) 85%, #5eead4 15%), var(--accent-1)) border-box;
  -webkit-mask: radial-gradient(farthest-side, transparent 64%, #000 65%) content-box,
                linear-gradient(#000,#000) padding-box;
          mask: radial-gradient(farthest-side, transparent 64%, #000 65%) content-box,
                linear-gradient(#000,#000) padding-box;
  padding:4px; animation: spin 1s linear infinite;
}
.ts-page .loading-text{ color:color-mix(in srgb, var(--text-1) 82%, #cfe7ff 18%); font-weight:700; letter-spacing:.02em; opacity:.9; }
.ts-page .btn-spinner{
  width:18px; height:18px; border-radius:50%;
  background: conic-gradient(from 0turn, rgba(255,255,255,.0) 0 25%, rgba(255,255,255,.95) 0 100%);
  -webkit-mask: radial-gradient(closest-side, transparent 55%, #000 56%);
          mask: radial-gradient(closest-side, transparent 55%, #000 56%);
  animation: spin .8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Light-only tweaks (optional flat look) */
html[data-theme="light"] .ts-page .card,
html[data-theme="light"] .ts-page .kpi,
html[data-theme="light"] .ts-page .toolbar {
  border:1px solid color-mix(in srgb, var(--border-1) 40%, transparent);
}

/* Responsive */
@media (max-width: 1280px){
  .ts-page .kpi-row{ grid-template-columns: repeat(3, minmax(0,1fr)); }
  .ts-page .col-9{ grid-column: span 12; } .ts-page .col-3{ grid-column: span 12; } .ts-page .col-6{ grid-column: span 12; }
  .ts-page .input{ min-width:200px; }
}
@media (max-width: 680px){
  .ts-page .toolbar{ flex-direction: column; align-items: stretch; gap:10px; padding:10px; }
  .ts-page .tool-left{ width:100%; gap:8px; }
  .ts-page .tool-right{ width:100%; flex-direction: row !important; justify-content:flex-end; align-items:center; gap:8px; }
  .ts-page .tool-right .btn.ghost{ margin-right:0 !important; order:0; }
  .ts-page .tool-right .btn.primary{ order:1; }
  .ts-page .input{ width:100%; min-width:0; }
  .ts-page .sel{ min-width:0; }
  .ts-page .btn{ padding:9px 12px; }
  .ts-page .chk{ line-height:1.3; }
}
@media (max-width: 560px){
  .ts-page .kpi-row{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  .ts-page .card-hd{ padding:10px 12px; }
  .ts-page .card-hd h3{ font-size:13px; }
  .ts-page .chart-placeholder{ padding:8px 10px 10px; }
  .ts-page .svg-chart{ height:300px; }
  .ts-page .svg-chart .axis text{ font-size:10px; }
  .ts-page .bar-labels .bar-label{ font-size:11px; stroke-width:2px; }
  .ts-page .kv li{ font-size:12px; }
  .ts-page .tbl thead th, .ts-page .tbl tbody td{ padding:8px 10px; font-size:12px; }
}
@media (max-width: 420px){
  .ts-page .kpi-row{ grid-template-columns:1fr; gap:12px; }
  .ts-page .toolbar{ gap:8px; }
  .ts-page .lbl{ font-size:11px; }
  .ts-page .input{ padding:8px 10px; font-size:14px; }
  .ts-page .btn{ padding:8px 10px; font-size:14px; }
  .ts-page .card-hd h3{ font-size:12.5px; }
  .ts-page .kpi-value{ font-size: clamp(17px, 7vw, 20px); }
  .ts-page .kpi-sub{ font-size:11px; }
  .ts-page .svg-chart{ height:260px; }
  .ts-page .svg-chart .axis text{ font-size:9.5px; }
  .ts-page .legend{ font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .ts-page .tbl thead th, .ts-page .tbl tbody td{ padding:7px 9px; font-size:11.5px; }
  .ts-page .table-wrap{ margin:0 -2px; padding:0 2px; }
}
@media (max-width: 360px){
  .ts-page{ padding:14px 14px 22px; }
  .ts-page .toolbar{ padding:8px; }
  .ts-page .btn{ padding:7px 9px; font-size:13px; }
  .ts-page .input{ padding:7px 9px; font-size:13px; }
  .ts-page .card-hd h3{ font-size:12px; }
  .ts-page .svg-chart{ height:230px; }
  .ts-page .bar-labels .bar-label{ font-size:10.5px; }
  .ts-page .kv li{ font-size:11.5px; }
}

/* =========================================================
   Weather Card (scoped) â€” .weather-card / .wx-*
   ========================================================= */
.weather-card{
  --wx-bg: #0f1722;
  --wx-panel: #121b27;
  --wx-border: rgba(255,255,255,.08);
  --wx-text: #dfe7ef;
  --wx-dim: #a9b6c6;
  --wx-muted: rgba(223,231,239,.65);
  --wx-primary: #21e2cf;
  --wx-accent: #57a6ff;
  --wx-chip-bg: rgba(255,255,255,.06);
  --wx-chip-brd: rgba(255,255,255,.10);
  --wx-shadow: 0 10px 28px rgba(0,0,0,.28);
  --wx-grid: rgba(255,255,255,.08);
  --wx-line: rgba(87,166,255,.9);
  --wx-bar-top: #34f5e5;
  --wx-bar-btm: rgba(52,245,229,.35);

  border: 1px solid var(--wx-border);
  border-radius: 14px;
  box-shadow: var(--wx-shadow);
  overflow: hidden;
}
:root[data-theme="light"] .weather-card{
  --wx-bg: #ffffff;
  --wx-panel: #ffffff;
  --wx-border: rgba(12,30,50,.08);
  --wx-text: #0f1a26;
  --wx-dim: #4a5b70;
  --wx-muted: rgba(15,26,38,.6);
  --wx-primary: #18c9b8;
  --wx-accent: #2d7dff;
  --wx-chip-bg: rgba(15,26,38,.04);
  --wx-chip-brd: rgba(12,30,50,.10);
  --wx-grid: rgba(12,30,50,.1);
  --wx-line: rgba(45,125,255,.9);
  --wx-bar-top: #2de0ce;
  --wx-bar-btm: rgba(45,224,206,.28);
}
.weather-card .card-hd{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px 10px;
  background: var(--wx-panel);
  border-bottom:1px solid var(--wx-border);
}
.weather-card .card-hd h3{ margin:0; font-weight:700; color:var(--wx-text); }
.weather-card .card-hd .muted{ color:var(--wx-dim); }
.weather-card .wx-snapshot{
  display:flex; gap:12px; align-items:center; justify-content:space-between;
  padding:16px;
}
.weather-card .wx-temp{ display:flex; flex-direction:column; }
.weather-card .wx-temp-main{ display:flex; align-items:flex-end; gap:6px; }
.weather-card .wx-temp-now{ font-size:32px; font-weight:800; color:var(--wx-text); line-height:1; }
.weather-card .wx-temp .unit{ font-size:16px; color:var(--wx-dim); margin-bottom:2px; }
.weather-card .wx-temp-sub{ color:var(--wx-dim); margin-top:4px; }
.weather-card .wx-pills{ display:flex; flex-wrap:wrap; gap:8px; justify-content:flex-end; }
.weather-card .pill{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:999px;
  background:var(--wx-chip-bg);
  border:1px solid var(--wx-chip-brd);
  color:var(--wx-text);
  font-weight:600; font-size:12.5px;
}
.weather-card .wx-strip{ position:relative; padding:8px 8px 4px; }
.weather-card .wx-strip .wx-svg{ width:100%; height:auto; display:block; }
.weather-card .wx-grid line{ stroke: var(--wx-grid); stroke-width:1; }
.weather-card .wx-bar{ fill: url(#wxBarGrad); }
.weather-card .wx-svg defs{ display:block; }
.weather-card .wx-line{ stroke: var(--wx-line); stroke-width:2; fill:none; }
.weather-card .wx-dot{ fill: var(--wx-accent); opacity:.9; }
.weather-card .wx-wind path{ fill: color-mix(in oklab, var(--wx-accent), white 22%); }
.weather-card .wx-tick text{ font-size:11px; fill: var(--wx-dim); }
.weather-card .wx-tt{
  position:absolute; transform: translate(-50%, -110%);
  min-width: 220px; background: color-mix(in oklab, var(--wx-panel), black 6%);
  border:1px solid var(--wx-border); border-radius:10px;
  color: var(--wx-text); padding:10px 12px; pointer-events:none;
  box-shadow: var(--wx-shadow); z-index:2;
}
.weather-card .wx-tt-row{ font-size:12.5px; line-height:1.6; color:var(--wx-text); }
.weather-card .wx-tt-row strong{ color:var(--wx-primary); }
.weather-card .wx-hit{ position:absolute; inset:8px 8px 4px 8px; cursor:crosshair; }
.weather-card .wx-empty{ padding:18px 16px; text-align:center; }
.weather-card .thin-scroll::-webkit-scrollbar{ height:8px; width:8px; }
.weather-card .thin-scroll::-webkit-scrollbar-thumb{ background: var(--wx-chip-brd); border-radius:10px; }

/* =========================================================
   Efficiency Panel (.eff-*)
   ========================================================= */
.eff-head{ display:flex; gap:8px; flex-wrap:wrap; padding:8px 8px 0 8px; }
.badge{
  display:inline-flex; align-items:center; gap:6px;
  font-size:12px; line-height:1; padding:6px 10px; border-radius:999px;
  border:1px solid rgba(255,255,255,0.08); background:rgba(255,255,255,0.04);
  backdrop-filter: blur(4px);
}
.badge.ok{ color:#0fd8a0; border-color:rgba(15,216,160,.35); background:rgba(15,216,160,.08); }
.badge.warn{ color:#ffb020; border-color:rgba(255,176,32,.35); background:rgba(255,176,32,.10); }
.badge.crit{ color:#ff5e57; border-color:rgba(255,94,87,.35); background:rgba(255,94,87,.10); }

.eff-gauge{ position:relative; width:160px; height:160px; margin:12px auto 6px; }
.eff-gauge__ring{
  width:100%; height:100%; border-radius:50%;
  background: conic-gradient(#21e2cf 0deg, #21e2cf 0deg, rgba(127,140,160,.15) 0 360deg);
  mask: radial-gradient(circle 66px, #0000 60px, #000 61px);
  -webkit-mask: radial-gradient(circle 66px, #0000 60px, #000 61px);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
}
.eff-gauge__center{ position:absolute; inset:0; display:grid; place-items:center; }
.eff-gauge__value{ font-size:28px; font-weight:800; letter-spacing:.2px; }
.eff-gauge__value small{ font-size:.6em; opacity:.8; margin-left:2px; }
.eff-gauge__label{ font-size:12px; color:var(--text-sub, #708090); margin-top:2px; }

.eff-health{ display:flex; justify-content:center; margin:4px 0 12px; }
.eff-status{
  display:inline-block; padding:6px 10px; border-radius:999px; font-weight:700;
  font-size:12px; letter-spacing:.2px;
}
.eff-status.ok{   background:rgba(28,201,183,.16); color:#10b5a5; }
.eff-status.warn{ background:rgba(250,176,5,.14); color:#b46900; }
.eff-status.crit{ background:rgba(239,71,111,.16); color:#c0262d; }
.eff-status.idle{ background:rgba(148,163,184,.16); color:#475569; }

.eff-grid{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px; padding:0 10px 12px; }
.eff-tile{
  background:rgba(2,6,23,.03);
  border:1px solid rgba(100,116,139,.15);
  border-radius:12px; padding:10px;
}
html[data-theme="dark"] .eff-tile{ background:rgba(255,255,255,.04); border-color:rgba(255,255,255,.12); }
.eff-tile__label{ font-size:12px; color:var(--text-sub,#708090); }
.eff-tile__value{ font-size:18px; font-weight:800; margin-top:2px; }
.eff-tile__value small{ font-size:.7em; opacity:.75; margin-left:2px; }
.eff-tile__sub{ font-size:11px; color:var(--text-sub,#708090); margin-top:2px; }

.eff-note{
  margin:2px 10px 10px; padding:8px 10px; font-size:12px;
  color:#475569; background:rgba(2,132,199,.08); border:1px solid rgba(2,132,199,.15);
  border-radius:10px;
}
html[data-theme="dark"] .eff-note{ color:#cbd5e1; background:rgba(59,130,246,.12); border-color:rgba(59,130,246,.25); }

/* =========================================================
   Quick Access Card (.qa-card) â€” data-theme ê¸°ë°˜
   ========================================================= */
.qa-card{
  --card-bg: var(--surface, #fff);
  --card-text: var(--text, #1c1d1f);
  --card-border: color-mix(in srgb, var(--border, rgba(0,0,0,.08)) 100%, transparent);
  --sub-text: var(--muted, #6b7280);
  --accent-color: var(--accent, #1dd6c9);

  display:flex; align-items:center; justify-content:space-between; gap:14px;
  text-decoration:none; border-radius:16px; padding:20px 24px; height:100%;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
  border: 1px solid var(--card-border); color: var(--card-text);
  transition: all .25s ease;
}
.qa-card:hover{ transform: translateY(-4px); box-shadow: 0 12px 30px rgba(0,0,0,0.10); border-color: var(--accent-color); }
.qa-icon{ flex:0 0 auto; font-size:28px; line-height:1; color: var(--accent-color); }
.qa-main{ flex:1; display:flex; flex-direction:column; gap:2px; overflow:hidden; }
.qa-title{ font-weight:700; font-size:15.5px; color: inherit; }
.qa-desc{ font-size:13px; color: var(--sub-text); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.qa-arrow{ font-size:22px; color: var(--sub-text); flex:0 0 auto; transition: transform .2s ease, color .2s ease; }
.qa-card:hover .qa-arrow{ transform: translateX(3px); color: var(--accent-color); }

/* =========================================================
   ATS Modals (facility / maintenance / select) â€” **Unified**
   (Only keep this block for modals)
   ========================================================= */
:root{
  --ats-bg:#ffffff; --ats-elev:#f7f8fa; --ats-text:#0e1116; --ats-muted:#6b7280;
  --ats-border:#e5e7eb; --ats-backdrop:rgba(8,11,18,.78); --ats-overlay-blur:4px;
  --ats-primary:#21e2cf; --ats-primary-ink:#092320; --ats-ghost-hover:rgba(2,6,12,.06);
  --ats-shadow:0 10px 28px rgba(0,0,0,.16),0 2px 10px rgba(0,0,0,.08);
  --ats-radius:16px;
  --ats-panel-maxw:720px; --ats-panel-pad:20px; --ats-hd-h:56px; --ats-ft-h:64px;
  --ats-table-head:#f3f4f6; --ats-table-row:#ffffff; --ats-row-hover:#eef8f6; --ats-row-selected:#d7fff7;
  --ats-input-bg:#ffffff; --ats-input-border:#d1d5db; --ats-input-text:#0e1116; --ats-input-placeholder:#9ca3af;
  --ats-focus:#21e2cf;
  --ats-btn-primary-bg:#21e2cf; --ats-btn-primary-ink:#092320; --ats-btn-ghost-ink:#0e1116;
}
:root[data-theme="dark"]{
  --ats-bg:#0d1218; --ats-elev:#111821; --ats-text:#e7eef7; --ats-muted:#93a1b3;
  --ats-border:#202a36; --ats-backdrop:rgba(5,8,12,.82); --ats-overlay-blur:6px;
  --ats-shadow:0 14px 36px rgba(0,0,0,.4),0 2px 10px rgba(0,0,0,.3);
  --ats-table-head:#121a24; --ats-table-row:#0d1218; --ats-row-hover:#132029; --ats-row-selected:#0f2b29;
  --ats-input-bg:#0a0f14; --ats-input-border:#1c2633; --ats-input-text:#e7eef7; --ats-input-placeholder:#728095;
  --ats-btn-primary-bg:#21e2cf; --ats-btn-primary-ink:#092320; --ats-btn-ghost-ink:#e7eef7;
}
/* Root */
.ats-modal,.ats-select-modal{
  position:fixed; inset:0; z-index:2000; display:flex; align-items:center; justify-content:center;
}
/* Backdrop (vignette) */
.ats-modal__backdrop,.ats-select-modal__backdrop{
  position:absolute; inset:0;
  background: radial-gradient(1200px 800px at 50% 40%,
      rgba(0,0,0,.26) 0%, rgba(0,0,0,.44) 48%, rgba(0,0,0,.62) 100%),
    var(--ats-backdrop);
  backdrop-filter:blur(var(--ats-overlay-blur)) saturate(120%);
  -webkit-backdrop-filter:blur(var(--ats-overlay-blur)) saturate(120%);
  animation:atsFadeIn .18s ease-out both;
}
/* Panel */
.ats-modal__panel,.ats-select-modal__panel{
  position:relative; z-index:1;
  width:min(var(--ats-panel-maxw),94vw); max-height:min(88vh,900px);
  background:var(--ats-bg); color:var(--ats-text);
  border:1px solid color-mix(in sRGB,var(--ats-border) 75%,transparent);
  border-radius:18px;
  box-shadow:0 16px 48px rgba(0,0,0,.28),0 4px 14px rgba(0,0,0,.18);
  display:flex; flex-direction:column; overflow:hidden;
  transform-origin:50% 46%; animation:atsPop .18s cubic-bezier(.2,.7,.2,1) both; isolation:isolate;
}
.ats-modal__panel::before,.ats-select-modal__panel::before{
  content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
  box-shadow: inset 0 1px 0 color-mix(in sRGB,#fff 16%,transparent),
              inset 0 0 0 1px color-mix(in sRGB,var(--ats-border) 38%,transparent);
  opacity:.9;
}
@media (max-width:640px){
  .ats-modal__panel,.ats-select-modal__panel{ width:96vw; height:92vh; max-height:unset; border-radius:14px; }
}
/* Header/Body/Footer */
.ats-modal__hd,.ats-select-modal__hd{
  display:flex; align-items:center; justify-content:space-between;
  height:var(--ats-hd-h); padding:0 calc(var(--ats-panel-pad) + 2px);
  border-bottom:1px solid color-mix(in sRGB,var(--ats-border) 85%,transparent);
  background:linear-gradient(180deg,
    color-mix(in sRGB,var(--ats-elev) 88%,transparent) 0%,
    color-mix(in sRGB,var(--ats-elev) 36%,transparent) 70%,
    transparent 100%);
}
.ats-modal__title,.ats-select-modal__title{ font-weight:700; letter-spacing:.1px; }
.ats-modal__body,.ats-select-modal__body{ padding:calc(var(--ats-panel-pad) + 4px) var(--ats-panel-pad); overflow:auto; background:var(--ats-bg); }
.ats-modal__ft{
  display:flex; justify-content:flex-end; gap:10px;
  padding:10px var(--ats-panel-pad); height:var(--ats-ft-h);
  border-top:1px solid color-mix(in sRGB,var(--ats-border) 85%,transparent);
  background:linear-gradient(0deg,
    color-mix(in sRGB,var(--ats-elev) 92%,transparent) 0%,
    color-mix(in sRGB,var(--ats-elev) 36%,transparent) 70%,
    transparent 100%);
  box-shadow:0 -8px 18px -16px rgba(0,0,0,.3) inset;
}
/* Close */
.ats-modal__close,.ats-select-modal__close,.ats-modal .close{
  border:0; background:transparent; color:var(--ats-muted);
  font-size:18px; line-height:1; padding:8px; cursor:pointer; border-radius:10px;
}
.ats-modal__close:hover,.ats-select-modal__close:hover,.ats-modal .close:hover{
  background:var(--ats-ghost-hover); color:var(--ats-text);
}
/* Inputs inside modal */
.ats-modal__body label,.ats-select-modal__toolbar label,.form-label{
  display:block; margin:14px 0 8px; font-weight:650; color:var(--ats-text);
}
.ats-modal__body input[type="text"],
.ats-modal__body input[type="date"],
.ats-modal__body input:not([type]),
.ats-modal__body textarea,
.ats-select-modal__input,
.form-input,.form-textarea{
  width:100%; height:38px; padding:8px 10px; outline:none;
  border:1px solid var(--ats-input-border);
  background:linear-gradient(180deg,
    color-mix(in sRGB,var(--ats-input-bg) 96%,transparent) 0%,
    color-mix(in sRGB,var(--ats-input-bg) 84%,transparent) 100%);
  color:var(--ats-input-text); border-radius:12px;
  box-shadow:inset 0 0 0 1px color-mix(in sRGB,var(--ats-input-border) 70%,transparent);
  transition:box-shadow .18s ease,border-color .18s ease,transform .06s ease;
}
.ats-modal__body textarea,.form-textarea{ height:auto; min-height:120px; resize:vertical; }
.ats-modal__body input::placeholder,.ats-select-modal__input::placeholder{ color:var(--ats-input-placeholder); }
.ats-modal__body input:hover,
.ats-modal__body textarea:hover,
.form-input:hover,.form-textarea:hover,.ats-select-modal__input:hover{
  border-color:color-mix(in sRGB,var(--ats-input-border) 40%,var(--ats-focus) 22%);
  box-shadow:0 2px 10px rgba(0,0,0,.06),
    inset 0 0 0 1px color-mix(in sRGB,var(--ats-input-border) 35%,var(--ats-focus) 15%);
}
.ats-modal__body input:focus,
.ats-modal__body textarea:focus,
.form-input:focus,.form-textarea:focus,.ats-select-modal__input:focus{
  transform:translateY(-.5px);
  border-color:color-mix(in sRGB,var(--ats-focus) 65%,var(--ats-input-border) 10%);
  box-shadow:0 4px 14px rgba(0,0,0,.10),
    0 0 0 3px color-mix(in sRGB,var(--ats-focus) 24%,transparent),
    inset 0 0 0 1px color-mix(in sRGB,var(--ats-focus) 60%,transparent);
}
.ats-modal__body input[type="date"]{ padding-right:38px; }
/* Modal buttons (scoped) */
.ats-select-modal .ats-select-modal__btn--primary {
  background: linear-gradient(180deg,
    #0a77a8 0%,     /* ìœ„ìª½ ë°ì€ íŒŒë‘ */
    #065f8a 100%    /* ì•„ë˜ìª½ ì§„í•œ íŒŒë‘ */
  );
  color: #ffffff;
  border: 1px solid color-mix(in srgb, #043954 70%, #0a77a8 30%);
  border-radius: 14px;
  height: 38px;
  padding: 0 16px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(6, 95, 138, 0.25);
  transition: all 0.2s ease;
}
.ats-modal .btn.primary:hover,.ats-select-modal .ats-select-modal__btn--primary:hover{
  filter:none; transform:translateY(-1px);
}
.ats-modal .btn.primary:active,.ats-select-modal .ats-select-modal__btn--primary:active{
  transform:translateY(0);
  box-shadow:0 6px 14px rgba(33,226,207,.20),0 1px 4px rgba(0,0,0,.18) inset;
}
.ats-modal .btn.primary:disabled,.ats-select-modal .ats-select-modal__btn--primary:disabled{
  opacity:.6; cursor:not-allowed;
}
.ats-modal .btn.ghost,.ats-select-modal .ats-select-modal__btn{
  border-radius:14px;
  background:linear-gradient(180deg,
    color-mix(in sRGB,var(--ats-bg) 92%,transparent) 0%,
    color-mix(in sRGB,var(--ats-bg) 80%,transparent) 100%);
  border:1px solid var(--ats-border); color:var(--ats-btn-ghost-ink);
  height:38px; padding:0 14px; cursor:pointer;
  transition:background-color .15s ease,border-color .15s ease,box-shadow .15s ease;
}
.ats-modal .btn.ghost:hover,.ats-select-modal .ats-select-modal__btn:hover{
  background:var(--ats-ghost-hover);
  border-color:color-mix(in sRGB,var(--ats-border) 60%,var(--ats-text) 10%);
}
.ats-modal .btn.ghost:active,.ats-select-modal .ats-select-modal__btn:active{
  box-shadow:0 0 0 2px color-mix(in sRGB,var(--ats-border) 60%,transparent) inset;
}
/* Select modal toolbar & table */
.ats-select-modal__toolbar{
  display:flex; gap:10px; padding:var(--ats-panel-pad);
  border-bottom:1px solid var(--ats-border); background:var(--ats-bg);
}
.ats-select-modal__input{ flex:1 1 auto; }
.ats-select-modal__table{ width:100%; border-collapse:separate; border-spacing:0; }
.ats-select-modal__table thead th{
  position:sticky; top:0; background:var(--ats-table-head);
  color:var(--ats-text); text-align:left; font-weight:800; font-size:13px;
  padding:10px 12px; border-bottom:1px solid var(--ats-border);
}
.ats-select-modal__table tbody td{
  background:var(--ats-table-row); color:var(--ats-text); font-size:13px;
  padding:12px 14px; border-bottom:1px solid var(--ats-border); vertical-align:middle;
}
.ats-select-modal__table tbody tr:hover td{
  background:color-mix(in sRGB,var(--ats-row-hover) 84%,transparent);
}
.ats-select-modal__table tbody tr.is-selected td{
  background:color-mix(in sRGB,var(--ats-row-selected) 90%,transparent);
  box-shadow:inset 0 0 0 1px color-mix(in sRGB,var(--ats-focus) 28%,transparent);
}
.ats-select-modal__body{ padding:0; }
.ats-select-modal__empty{ color:var(--ats-muted); padding:18px; text-align:center; }
/* A11y & misc */
.ats-modal__panel:focus,.ats-select-modal__panel:focus{
  outline:3px solid color-mix(in sRGB,var(--ats-focus) 45%,transparent);
  outline-offset:-2px; border-radius:var(--ats-radius);
}
@keyframes atsFadeIn{ from{opacity:0} to{opacity:1} }
@keyframes atsPop{
  from{ opacity:0; transform:translateY(8px) scale(.985); filter:saturate(.94); }
  to  { opacity:1; transform:translateY(0)   scale(1);     filter:saturate(1); }
}
@keyframes atsSpin{ to{ transform:rotate(360deg) } }
body:has(.ats-modal),body:has(.ats-select-modal){ overflow:hidden; }
.ats-modal__body.thin-scroll,.ats-select-modal__body.thin-scroll{ scrollbar-width:thin; }
.ats-modal__body.thin-scroll::-webkit-scrollbar,
.ats-select-modal__body.thin-scroll::-webkit-scrollbar{ height:8px; width:8px; }
.ats-modal__body.thin-scroll::-webkit-scrollbar-thumb,
.ats-select-modal__body.thin-scroll::-webkit-scrollbar-thumb{
  background:color-mix(in sRGB,var(--ats-text) 18%,transparent); border-radius:8px;
}
.ats-modal.ats-modal--lg .ats-modal__panel,
.ats-select-modal.ats-modal--lg .ats-select-modal__panel{ --ats-panel-maxw:880px; }
/* ==== 1) 'ì¥ë¹„ ì„ íƒ' ëª¨ë‹¬: í­Â·ì—¬ë°± í™•ëŒ€ + ì¹¸ ì¤„ë°”ê¿ˆ/ë§ì¤„ì„ ì²˜ë¦¬ ==== */

/* íŒ¨ë„ ì „ì²´ í­ ì‚´ì§ í‚¤ìš°ê¸° */
.ats-select-modal__panel{
  width: min(1080px, 96vw);      /* ê¸°ì¡´ 920px â†’ 1080px */
  max-height: min(78vh, 86vh);   /* ì„¸ë¡œë„ ì‚´ì§ ì—¬ìœ  */
}

/* í—¤ë”/íˆ´ë°” ì—¬ë°± ì¡°ê¸ˆ ë„‰ë„‰í•˜ê²Œ */
.ats-select-modal__hd{ padding: 16px 56px; }
.ats-select-modal__toolbar{ padding: 12px 16px; gap: 12px; }

/* í…Œì´ë¸”: ê³ ì • ë ˆì´ì•„ì›ƒ + ë§ì¤„ì„ + ì¤„ë°”ê¿ˆ ê¸ˆì§€ */
.ats-select-modal__table{
  table-layout: fixed;        /* ê° ì—´ ë„ˆë¹„ë¥¼ ì•ˆì •í™” */
}
.ats-select-modal__table thead th,
.ats-select-modal__table tbody td{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ì—´ ë„ˆë¹„ ê°€ì´ë“œ(í•„ìš”ì‹œ ë¹„ìœ¨ ì¡°ì •) */
.ats-select-modal__table thead th:nth-child(1),
.ats-select-modal__table tbody td:nth-child(1){ width: 52px; }   /* # */
.ats-select-modal__table thead th:nth-child(2),
.ats-select-modal__table tbody td:nth-child(2){ width: 12%; }    /* ì´ë¦„ */
.ats-select-modal__table thead th:nth-child(3),
.ats-select-modal__table tbody td:nth-child(3){ width: 34%; }    /* ì£¼ì†Œ(ê¸¸ê²Œ) */
.ats-select-modal__table thead th:nth-child(4),
.ats-select-modal__table tbody td:nth-child(4){ width: 14%; }    /* ì„¤ì¹˜ì‚¬ */
.ats-select-modal__table thead th:nth-child(5),
.ats-select-modal__table tbody td:nth-child(5){ width: 14%; }    /* ëª¨ë‹ˆí„°ì‚¬ */
.ats-select-modal__table thead th:nth-child(6),
.ats-select-modal__table tbody td:nth-child(6){ width: 24%; }    /* IMEI */

/* í–‰ ì „ì²´ê°€ í´ë¦­ íƒ€ê¹ƒì²˜ëŸ¼ ë³´ì´ë„ë¡ */
.ats-select-modal__table tbody tr{
  cursor: pointer;                  /* â¬…ï¸ ìš”ì²­ì‚¬í•­ */
}

/* ì…ë ¥ì°½ë„ í­ ê½‰ ì°¨ê²Œ */
.ats-select-modal__input{ min-width: 360px; }

/* ë‹«ê¸°/ì„ íƒ ë²„íŠ¼ì´ ê²¹ì¹˜ì§€ ì•Šê²Œ ë²„íŠ¼ì— ì•½ê°„ì˜ ì—¬ìœ  */
.ats-select-modal__btn{ padding: 0 16px; }

/* ==== 2) (ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆì„ ìˆ˜ ìˆì§€ë§Œ) ìš´ì „ì´ë ¥ í‘œ í–‰ì—ë„ ì»¤ì„œ í‘œì‹œí•˜ê³  ì‹¶ë‹¤ë©´ ==== */
.tbl.compact tbody tr{ cursor: pointer; }

/* ==== 3) ë‚ ì”¨ ì¹´ë“œ íˆ´íŒì´ ì˜ë¦¬ì§€ ì•Šë„ë¡ z-index/overflow ì¡°ì • ==== */

/* ì¹´ë“œì—ì„œ ì˜ë¦¼ ë°©ì§€: overflow ì œê±° + ìŠ¤íƒ ì»¨í…ìŠ¤íŠ¸ ë¶€ì—¬ */
.weather-card{
  position: relative;
  overflow: visible;     /* ê¸°ì¡´ overflow: hidden ë•Œë¬¸ì— íˆ´íŒì´ ì˜ë ¸ìŒ */
  z-index: 1;
}

/* íˆ´íŒì´ í˜•ì œ ì¹´ë“œë³´ë‹¤ ìœ„ë¡œ ì˜¬ë¼ì˜¤ê²Œ */
.weather-card .wx-tt{
  z-index: 50;           /* ì¹´ë“œ ë‚´ë¶€ì—ì„œë„ ì¶©ë¶„íˆ ìœ„ë¡œ */
}

/* SVG ì˜ì—­ì„ ë®ëŠ” íˆíŠ¸ ë°•ìŠ¤ë„ í¬ì¸í„° ì´ë²¤íŠ¸ë§Œ í—ˆìš© */
.weather-card .wx-hit{ z-index: 5; }

/* í˜¹ì‹œ ë¶€ëª¨ rowê°€ overflow:hiddenì´ë©´ ì„¹ì…˜ì—ë„ ì—¬ìœ  ë¶€ì—¬(ì•ˆ ê·¸ëŸ¬ë©´ ì—¬ì „íˆ ì˜ë¦¼) */
.row{ overflow: visible; }

/* ì„ íƒ ë²„íŠ¼: ê°€ë¡œ ê³ ì •í­ + ì¤„ë°”ê¿ˆ ê¸ˆì§€ */
.ats-select-modal__toolbar .ats-select-modal__btn {
  min-width: 72px;         /* ğŸ‘ ì¶©ë¶„í•œ í­ í™•ë³´ */
  white-space: nowrap;     /* í•œ ì¤„ ìœ ì§€ */
  flex: 0 0 auto;          /* ì¤„ë°”ê¿ˆ/ìˆ˜ì¶• ë°©ì§€ */
  padding: 0 14px;
}

/* ë²„íŠ¼ì´ ë‘¥ê¸€ê²Œ ëˆŒë ¤ ë³´ì´ë©´ ê¸€ì í¬ê¸°ë§Œ ì‚´ì§ ë‹¤ìš´ */
@media (max-width: 560px) {
  .ats-select-modal__toolbar .ats-select-modal__btn { min-width: 66px; font-size: 13px; }
}

/* ì„ íƒ ëª¨ë‹¬ í…Œì´ë¸” í–‰: í¬ì¸í„° ì»¤ì„œ */
.ats-select-modal__table tbody tr {
  cursor: pointer;
}

/* ========== Date Field : ê³µí†µ ========== */
.date-field {
  position: relative;
  display: block;
}

/* ì¸í’‹ ê³µí†µ */
.date-field > input[type="date"],
.date-field > input[type="text"] {
  width: 100%;
  height: 40px;
  padding: 0 44px 0 12px;
  border-radius: 10px;
  border: 1px solid var(--ats-input-border);
  background: var(--ats-input-bg);
  color: var(--ats-input-text);
  font-size: 14px;
  outline: none;
  transition: all 0.2s ease;
}

/* ìº˜ë¦°ë” ê¸°ë³¸ ì•„ì´ì½˜ ìˆ¨ê¹€ */
.date-field > input[type="date"]::-webkit-calendar-picker-indicator {
  opacity: 0;
}

/* í¬ì»¤ìŠ¤ íš¨ê³¼ */
.date-field > input[type="date"]:focus {
  border-color: color-mix(in srgb, var(--ats-focus) 70%, var(--ats-input-border));
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--ats-focus) 20%, transparent);
}

/* ========== ìº˜ë¦°ë” ë²„íŠ¼ ========== */
.calendar-btn {
  position: absolute;
  right: 6px;
  top: 50%;
  transform: translateY(-50%);
  width: 34px;
  height: 30px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  transition: all 0.2s ease;
}

/* ë¼ì´íŠ¸ ëª¨ë“œ */
:root[data-theme="light"] .calendar-btn {
  background: linear-gradient(180deg, #dffaf7 0%, #b4ebe4 100%);
  color: #065f57;
  box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}
:root[data-theme="light"] .calendar-btn:hover {
  background: linear-gradient(180deg, #c6f5ef 0%, #a4e4dd 100%);
}

/* ë‹¤í¬ ëª¨ë“œ */
:root[data-theme="dark"] .calendar-btn {
  background: linear-gradient(180deg, #1b2e2d 0%, #133533 100%);
  color: #23e2cf;
  box-shadow: 0 0 8px rgba(33, 226, 207, 0.12);
}
:root[data-theme="dark"] .calendar-btn:hover {
  background: linear-gradient(180deg, #23403f 0%, #16423f 100%);
  filter: brightness(1.05);
}


/* ë‚ ì§œ í•„ë“œ ë¬¶ìŒ */
.date-field {
  position: relative;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* ë‹¬ë ¥ ì•„ì´ì½˜ ë²„íŠ¼ */
.date-btn {
  inline-size: 36px;
  block-size: 36px;
  border-radius: 10px;
  border: 1px solid color-mix(in srgb, var(--panel-border, #d6dee6) 85%, #000 15%);
  background: linear-gradient(180deg, #f7f9fb 0%, #edf2f6 100%);
  display: inline-flex; align-items: center; justify-content: center;
  cursor: pointer;
  transition: box-shadow .15s ease, transform .05s ease;
}
.date-btn:hover { box-shadow: 0 2px 8px rgba(0,0,0,.15); }
.date-btn:active { transform: translateY(1px); }
.date-btn svg { fill: #476a86; }

/* ë¼ì´íŠ¸ ëª¨ë“œ ì…ë ¥ ë°°ê²½ ì •ëˆ (ë‹¤í¬ì—ë„ ë¬´ë¦¬ì—†ìŒ) */
:root {
  --input-bg: #fff;
  --input-bd: #d6dee6;
  --input-fg: #0b1b2b;
}
[data-theme="dark"] {
  --input-bg: #0f141a;
  --input-bd: #22303c;
  --input-fg: #dfe7ee;
}
.form-input, .form-textarea, .ats-select-modal__input, .ats-modal__body input[type="date"] {
  background: var(--input-bg);
  color: var(--input-fg);
  border: 1px solid var(--input-bd);
  border-radius: 12px;
}

/* ì €ì¥ ë²„íŠ¼ = â€˜ì¡°íšŒâ€™ì™€ ë™ì¼ íŒŒë€ ê·¸ë¼ë°ì´ì…˜ */
.ats-modal .btn.primary,
.ats-select-modal .ats-select-modal__btn--primary {
  background: linear-gradient(180deg, #0a77a8 0%, #065f8a 100%);
  color: #fff;
  border: 1px solid color-mix(in srgb, #043954 70%, #0a77a8 30%);
  border-radius: 14px;
  height: 38px; padding: 0 16px; font-weight: 700;
  box-shadow: 0 4px 12px rgba(6,95,138,.25);
  transition: all .2s ease;
}
.ats-modal .btn.primary:hover { background: linear-gradient(180deg,#0d84ba 0%,#086b9b 100%); }
.ats-modal .btn.primary:active { background: linear-gradient(180deg,#075e87 0%,#064f73 100%); box-shadow: inset 0 3px 8px rgba(0,0,0,.25); transform: translateY(1px); }
/* ì½ê¸° íŒ¨ë„ */
.weather-card .wx-inspect{
  margin-top: 8px;
  padding: 10px 12px;
  border-radius: 10px;
  background: var(--card-muted, rgba(0,0,0,.04));
  display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
  font-size: 13px;
}
.weather-card .wx-inspect .sep{ opacity:.5; margin:0 2px; }
.weather-card .wx-inspect .wx-pin{
  margin-left: auto;
  border: 0; border-radius: 999px; padding: 4px 10px; cursor: pointer;
  background: rgba(0,0,0,.08);
}
html[data-theme="dark"] .weather-card .wx-inspect{
  background: rgba(255,255,255,.06);
}
.weather-card .wx-hover-line{
  stroke: currentColor; opacity: .25; stroke-width: 1;
}

/* íˆíŠ¸ ë ˆì´ì–´ëŠ” ê·¸ëŒ€ë¡œ ì“¸ ìˆ˜ ìˆìŒ */
.weather-card .wx-hit{
  position: absolute; inset: 0; /* SVG ì»¨í…Œì´ë„ˆ ê¸°ì¤€ */
}
.row-click { cursor: pointer; }

/* ğŸ”¹ ì „ì²´ í˜ì´ì§€ ì—¬ë°± */
.ts-page {
  padding: 24px 28px 40px;
  background: var(--page-bg);
}

/* ğŸ”¹ ì„œë¸Œ ëŒ€ì‹œë³´ë“œ (EnergyDashboard ë‚´ í¬í•¨ ì˜ì—­) */
.sub-dashboard {
  margin-top: 12px;
  margin-bottom: 24px;
}

/* ğŸ”¹ KPI ì˜ì—­ ê°„ê²© ê°œì„  */
.kpi-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin: 24px 0;
}

/* ğŸ”¹ ì¹´ë“œ ê°„ ê¸°ë³¸ ì—¬ë°± */
.row {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-bottom: 28px;
}

.card {
  background: var(--card);
  border-radius: 16px;
  padding: 18px 20px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  transition: box-shadow .2s ease, transform .2s ease;
}
.card:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}

@media (max-width: 767px) {
  /* ê·¸ë˜í”„ ì¹´ë“œì˜ overflow í•´ì œ */
  .ts-page .chart-placeholder {
    padding: 24px 26px 28px !important;
    overflow: visible !important; /* âœ… ê·¸ë˜í”„ ì˜ë¦¼ ë°©ì§€ */
  }

  /* SVG ìì²´ëŠ” ì›ë˜ í­ìœ¼ë¡œ ìœ ì§€ */
  .ts-page .svg-chart {
    width: 100% !important;
    height: 520px !important;
    max-width: none !important;
    transform: scale(1.25) !important; /* âœ… í™•ëŒ€ ìœ ì§€ */
    transform-origin: center top !important;
    overflow: visible !important;
  }

  /* âœ… X/Yì¶• í…ìŠ¤íŠ¸ëŠ” ê·¸ëŒ€ë¡œ (ë„ˆë¬´ í¬ë©´ ì‹œì•¼ ë°©í•´ë¨) */
  .ts-page .svg-chart .axis text {
    font-size: 14px !important;
    font-weight: 600 !important;
  }

  /* âœ… ë§‰ëŒ€ ìœ„ ìˆ«ìë§Œ ê°•ì¡° */
  .ts-page .svg-chart .bar-labels .bar-label {
    font-size: 24.5px !important;   /* ğŸ”¹ ìˆ«ìë§Œ ë” í¼ */
    font-weight: 800 !important;
    stroke-width: 3px !important;
  }

  /* âœ… ë²”ë¡€(í•©ì‚° ë°œì „ëŸ‰ / ê¼­ì§“ì  ì—°ê²°ì„ )ëŠ” ì›ë˜ í¬ê¸° ìœ ì§€ */
  .ts-page .legend {
    font-size: 13px !important;
    font-weight: 500 !important;
    margin-top: 10px !important;
  }

  /* ë§‰ëŒ€ í­ ì‚´ì§ ë„“í˜ */
  .ts-page .svg-chart .bar {
    transform: scaleX(1.2) !important;
    transform-origin: center;
  }
}

.ts-page .svg-chart .bar-labels .bar-label {
  font-size:12px; fill: var(--text-1);
  paint-order: stroke;
  stroke: var(--chart-dot-stroke);
  stroke-width:3px;
  pointer-events:none;
}
.img-upload-box {
  position: relative;
  width: 100%;
  height: 220px;
  border: 2px dashed var(--p-accent);
  border-radius: 12px;
  background: rgba(255,255,255,0.04);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  cursor: pointer;
  transition: all .25s ease;
  margin-bottom: 14px;
}

.img-upload-box:hover {
  border-color: #21e2cf;
  background: rgba(33,226,207,0.07);
}

.img-empty {
  text-align: center;
  color: var(--p-muted);
}

.img-empty-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--p-text);
}

.img-empty-desc {
  font-size: 13px;
  margin-top: 5px;
}

.img-empty-sub {
  font-size: 12px;
  margin-top: 4px;
  opacity: .75;
}

.img-preview {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.img-file-input {
  position: absolute;
  inset: 0;
  opacity: 0;
  cursor: pointer;
}
/* ì´ë¯¸ì§€ ì—…ë¡œë“œ ë˜í¼ */
.img-upload-box {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* ì´ë¯¸ì§€ í”„ë¦¬ë·°ëŠ” í•­ìƒ ë¸”ë¡ìœ¼ë¡œ ì „ì²´ ë„ˆë¹„ ì°¨ì§€ */
.img-preview {
  width: 100%;
  max-width: 100%;
  border-radius: 8px;
  display: block;
}

/* íŒŒì¼ ì„ íƒ inputì„ ì•„ë˜ë¡œ ë–¨ì–´ëœ¨ë¦¬ê¸° */
.facility-image-input {
  margin-top: 10px;
  display: block;
}
.img-label-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.facility-image-input {
  font-size: 13px;
}

.ats-modal__body .preview {
  width: 100%;
  max-height: 350px; 
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 12px;
}

.ats-modal__body .preview img {
  max-height: 350px; 
  width: auto;
  object-fit: contain;
}

.facility-img {
  width: 100%;
  border-radius: 10px;
  overflow: hidden;
  margin-bottom: 16px;
  background: #f6f7f9;
}

.facility-img img {
  width: 100%;
  height: auto;        /* ì´ë¯¸ì§€ ë¹„ìœ¨ëŒ€ë¡œ ìë™ ì¦ê°€ */
  object-fit: contain; /* ì „ì²´ ì´ë¯¸ì§€ í‘œì‹œ */
  display: block;
}

.facility-img img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* ì´ë¯¸ì§€ ë¹„ìœ¨ ìœ ì§€í•˜ë©´ì„œ ê½‰ ì°¨ê²Œ */
}
.ts-page .facility-card .facility-img {
  width: 100%;
  max-height: 400px;   /* â­ ì—¬ê¸°! ì„¸ë¡œ ìµœëŒ€ 600px ì œí•œ */
  border-radius: 10px;
  overflow: hidden;    /* ë„˜ì¹˜ëŠ” ë¶€ë¶„ ìˆ¨ê¹€ */
  background: #f6f7f9;
}

/* ì´ë¯¸ì§€ */
.ts-page .facility-card .facility-img img {
  width: 100%;
  height: auto;        /* â­ ì„¸ë¡œ ìë™. ë°•ìŠ¤ë¥¼ ë„˜ê¸°ë©´ ìë™ ì¶•ì†Œë¨ */
  max-height: 400px;    /* â­ ë°•ìŠ¤ í¬ê¸°(600px)ë¥¼ ë„˜ì§€ ì•Šë„ë¡ */
  object-fit: contain; /* ë¹„ìœ¨ ìœ ì§€ */
  display: block;
}
/* KPI ê¸°ë³¸ */
.kpi-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 14px;
}

/* ìŠ¤ì¼ˆë ˆí†¤ KPI */
.kpi-skeleton {
  background: var(--p-panel-2);
  border-radius: 12px;
  padding: 14px;
  min-height: 82px;
  animation: sk-blink 1.2s infinite ease-in-out;
}

/* ìŠ¤ì¼ˆë ˆí†¤ ê³µìš© ë¼ì¸ */
.skeleton-line {
  display: block;
  width: 60%;
  height: 12px;
  background: var(--p-line);
  border-radius: 6px;
  opacity: 0.5;
}

/* ìŠ¤ì¼ˆë ˆí†¤ ì•„ì´ì½˜ */
.skeleton-ico {
  width: 18px;
  height: 18px;
  background: var(--p-line);
  border-radius: 50%;
  opacity: 0.4;
}

/* ìŠ¤ì¼ˆë ˆí†¤ ê°’ */
.skeleton-value {
  display: block;
  width: 70%;
  height: 22px;
  background: var(--p-line);
  border-radius: 4px;
  margin: 8px 0;
  
  opacity: 0.5;
}

/* ì ë©¸ ì• ë‹ˆë©”ì´ì…˜ */
@keyframes sk-blink {
  0% { opacity: 0.35; }
  50% { opacity: 0.9; }
  100% { opacity: 0.35; }
}
