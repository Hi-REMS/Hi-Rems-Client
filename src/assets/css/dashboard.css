.rems-dashboard { background: var(--bg); color: var(--text); min-height: 100vh; }
.rems-txt-warn { color: var(--warn); }
.rems-topbar {
  position: sticky; top: 0; z-index: 10;
  display: flex; align-items: center; justify-content: space-between;
  padding: 14px 20px;
  border-bottom: 1px solid var(--border);
  background: linear-gradient(180deg, color-mix(in srgb, var(--surface) 92%, transparent), color-mix(in srgb, var(--surface) 70%, transparent));
  backdrop-filter: blur(6px);
}
.rems-brand { display:flex; align-items:center; gap:10px; font-weight:700; }
.rems-dot { width:8px; height:8px; border-radius:50%; background:var(--accent); display:inline-block; }
.rems-logo { letter-spacing:.5px; }
.rems-badge { font-size:12px; color:var(--muted); border:1px solid var(--border); padding:2px 6px; border-radius:6px; }
.rems-live { font-size:12px; color:var(--muted); }

.rems-grid { padding: 16px; margin: 0 auto; max-width: 1400px; display: grid; grid-template-columns: repeat(12, minmax(0,1fr)); gap: 16px; }
.rems-col-12 { grid-column: span 12; } .rems-col-8 { grid-column: span 8; }
.rems-col-6 { grid-column: span 6; } .rems-col-4 { grid-column: span 4; }
.rems-col-3 { grid-column: span 3; } .rems-row-2 { grid-row: span 2; }
@media (max-width: 1200px) { .rems-col-8, .rems-col-6, .rems-col-4, .rems-col-3 { grid-column: span 12; } .rems-row-2 { grid-row: auto; } }

.rems-card { background: var(--surface); border: 1px solid var(--border); border-radius: 14px; box-shadow: 0 6px 16px color-mix(in srgb, #000 25%, transparent); }
.rems-card-hd { display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid var(--border); }
.rems-card-hd h3 { font-size:14px; letter-spacing:.2px; }
.rems-hint { color: var(--muted); font-size: 13px; }

.rems-summary ul { display:grid; grid-template-columns:1fr 1fr; gap:10px 18px; padding:14px 16px; }
.rems-summary li { display:flex; align-items:center; justify-content:space-between; color:var(--muted); font-size:13px; }
.rems-summary li strong { color:var(--text); font-weight:700; }
.rems-mt-split { margin-top:8px; border-top:1px dashed color-mix(in srgb, var(--text) 12%, transparent); padding-top:10px; }
.rems-loading-note { margin-top:8px; font-size:12px; color:var(--muted); }

.rems-stat-tiles { font-size: clamp(12px, 1.5vw, 20px); overflow-wrap:anywhere; word-break:break-all; white-space:normal; line-height:1.2; display:grid; grid-template-columns:1fr 1fr; gap:10px; padding:14px 16px; }
.rems-tile { background:var(--surface-2); border:1px solid var(--border); border-radius:12px; padding:12px; }
.rems-t-caption { color:var(--muted); font-size:12px; margin-bottom:6px; }
.rems-t-value { font-weight:800; font-size:18px; }
.rems-unit { font-weight:400; font-size:12px; color:var(--muted); margin-left:4px; }

.rems-table-wrap { 
  padding: 10px 14px 16px 14px;
}

.rems-table { 
  width: 100%; 
  border-collapse: collapse; 
  font-size: 14px;
  table-layout: fixed; 
}

.rems-table thead th {
  padding: 12px 10px;
  color: var(--muted);
  font-weight: 600;
  border-bottom: 1px solid var(--border);
  background: rgba(255,255,255,0.3);
}

.rems-table thead th:first-child,
.rems-table tbody td:first-child {
  text-align: left;
  width: 60%;     
  padding-left: 4px;
}

.rems-table thead th:last-child,
.rems-table tbody td:last-child {
  text-align: right;  
  width: 40%;     
  padding-right: 4px;
}

.rems-table tbody td { 
  padding: 12px 10px; 
  border-bottom: 1px dashed color-mix(in srgb, var(--text) 10%, transparent);
}

.rems-table tbody tr:hover { 
  background: color-mix(in srgb, var(--accent) 8%, transparent);
  cursor: pointer;
}

.rems-table tbody tr.zebra:nth-child(even) {
  background: rgba(0,0,0,0.02);
}

.rems-table tbody tr.rems-active {
  background: color-mix(in srgb, var(--accent) 18%, var(--surface));
  font-weight: 600;
}

.rems-card.rems-row-2 .rems-table-wrap { 
  max-height: 560px; 
  overflow:auto; 
}
.rems-card.rems-row-2 .rems-table-wrap::-webkit-scrollbar { width:8px; }
.rems-card.rems-row-2 .rems-table-wrap::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--muted) 25%, transparent); 
  border-radius:6px; 
}

.rems-map-card { position:relative; overflow:hidden; }
.rems-kmap { width: 100%; height: 560px !important; border-radius: 12px; }
.rems-map { position:relative; min-height: 560px; }

.rems-map-panel{ position:absolute; left:12px; top:12px; width:200px; background: color-mix(in srgb, var(--surface) 88%, transparent); border:1px solid var(--border); border-radius:12px; padding:10px; max-height:420px; overflow:auto; backdrop-filter: blur(6px); }
.rems-panel-hd { font-size:12px; color:var(--muted); margin-bottom:8px; }
.rems-map-panel ul { list-style:none; margin:0; padding:0; }
.rems-map-panel li { padding:8px 10px; border-radius:8px; cursor:default; }
.rems-map-panel li:hover { background: color-mix(in srgb, var(--accent) 8%, transparent); }

.rems-legend{ position:absolute; left:12px; bottom:12px; display:flex; gap:8px; flex-wrap:wrap; background: color-mix(in srgb, var(--surface) 88%, transparent); padding:8px 10px; border-radius:10px; border:1px solid var(--border); }
.rems-lg { display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; font-size:12px; color:var(--text); }
.rems-lg::before { content:''; width:10px; height:10px; border-radius:2px; display:inline-block; }
.rems-lg-ok::before{background:var(--ok);} .rems-lg-idle::before{background:var(--idle);} .rems-lg-paused::before{background:var(--paused);}
.rems-lg-warn::before{background:var(--warn);} .rems-lg-danger::before{background:var(--danger);}
.rems-row-click { cursor:pointer; }
.rems-row-click:hover { background: color-mix(in srgb, var(--text) 4%, transparent); }

.rems-quick-actions { display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:12px; padding:14px 16px 18px; }
@media (max-width: 1200px) { .rems-quick-actions { grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 640px)  { .rems-quick-actions { grid-template-columns: 1fr; } }

.rems-qa-btn{
  display:flex; align-items:center; gap:12px;
  padding:14px;
  border:1px solid var(--border);
  border-radius:14px;
  background: transparent;            
  color:var(--text);
  text-decoration:none;
  transition: border-color .15s, transform .15s, box-shadow .15s, background-color .15s;

  
  box-shadow:none;                     
  transform:none;                      
}

.rems-qa-btn:hover{
  
  border-color: color-mix(in srgb, var(--accent) 25%, var(--border) 75%);
  background: transparent;
  box-shadow:none;
  transform:none;
}

html[data-theme="light"] .rems-qa-btn:hover{
  box-shadow:none;
}

.rems-qa-icon{
  width:40px; height:40px; flex:0 0 40px;
  display:flex; align-items:center; justify-content:center;
  border-radius:10px;
  background: transparent;            
  font-size:20px;
}

.rems-qa-btn:focus-visible{
  outline: 2px solid color-mix(in srgb, var(--accent) 55%, transparent);
  outline-offset: 2px;
}

.rems-qa-text{ display:flex; flex-direction:column; gap:2px; }
.rems-qa-title{ font-weight:800; letter-spacing:.2px; }
.rems-qa-desc{ font-size:12px; color:var(--muted); }

.rems-count-bubble{ min-width:120px; max-width:170px; padding:10px 12px; border-radius:14px; background: color-mix(in srgb, var(--surface) 92%, transparent); border: 1px solid color-mix(in srgb, var(--text) 12%, transparent); color: var(--text); text-align:center; box-shadow: 0 10px 26px color-mix(in srgb, #000 35%, transparent); transform: translateY(-6px); user-select:none; pointer-events:auto; backdrop-filter: blur(4px); }
.rems-count-bubble.rems-small{ min-width:110px; max-width:150px; padding:8px 10px; }
.rems-count-bubble:hover{ transform: translateY(-8px); border-color: color-mix(in srgb, var(--accent) 35%, var(--border) 65%); box-shadow: 0 14px 28px color-mix(in srgb, #000 45%, transparent); }
.rems-cb-name{ font-size:12px; opacity:.9; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.rems-cb-num{ margin-top:4px; font-weight:800; font-size:18px; letter-spacing:.2px; }
.rems-map-card .rems-count-bubble{ z-index: 2; }

.rems-map-breadcrumbs{ display:flex; align-items:center; gap:12px; }
.rems-crumbs {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: auto;
  padding: 4px 0;
}

.rems-sep {
  color: var(--muted);
  font-size: 14px;
  opacity: 0.7;
}

.rems-chip {
  padding: 6px 14px;
  border-radius: 12px;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.18s ease;
  border: 1px solid var(--border);
  background: var(--surface-1);
  color: var(--text);
}

.rems-chip:hover {
  background: color-mix(in srgb, var(--accent) 12%, transparent);
  border-color: var(--accent);
  color: var(--accent);
}

.rems-chip.rems-strong {
  border-color: var(--accent);
  color: var(--accent-strong, var(--accent));
  font-weight: 600;
  background: color-mix(in srgb, var(--accent) 18%, transparent);
}

.rems-chip.rems-dim {
  opacity: 0.75;
  cursor: default;
  pointer-events: none;
}

html[data-theme='dark'] .rems-chip {
  background: #1c2333;
  border-color: #3a435a;
  color: white;
}

html[data-theme='dark'] .rems-chip:hover {
  background: rgba(88, 255, 210, 0.12);
  border-color: #5ef0c8;
  color: #8effdf;
}

html[data-theme='dark'] .rems-chip.rems-strong {
  border-color: #5ef0c8;
  color: #8effdf;
  background: rgba(94, 240, 200, 0.18);
}

html[data-theme='dark'] .rems-chip.rems-dim {
  opacity: 0.6;
  color: white;
}

html[data-theme='dark'] .rems-sep {
  color: white;
}

.rems-count-bubble.rems-dim{ opacity:.35; filter:saturate(60%); }
.rems-count-bubble.rems-active{ box-shadow: 0 6px 18px color-mix(in srgb, var(--accent) 45%, transparent); transform: translateZ(0) scale(1.02); }
.rems-table .rems-active td{ background: color-mix(in srgb, var(--accent) 8%, transparent); }

.rems-select-dark {
  font-size: 13px;
  line-height: 1.25;
  color: var(--select-text);
  min-width: 180px;
  padding: 8px 36px 8px 10px;
  border-radius: 3px;
  border: 1px solid var(--select-border);
  background-color: var(--select-bg);
  outline: none;
  appearance: none;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 20 20'><path d='M6 8l4 4 4-4' fill='none' stroke='%230ea5e9' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg>");
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 14px;
  transition: border-color .15s ease, box-shadow .15s ease;
}

.rems-select-dark:hover{
  border-color: color-mix(in srgb, var(--accent) 35%, var(--select-border) 65%);
}
.rems-select-dark:focus,
.rems-select-dark:focus-visible{
  border-color: color-mix(in srgb, var(--accent) 45%, var(--select-border) 55%);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 18%, transparent), inset 0 1px 0 color-mix(in srgb, #fff 10%, transparent);
}
.rems-select-dark:active{ transform: translateY(1px); }
.rems-select-dark:disabled{ opacity:.6; cursor:not-allowed; }
.rems-select-dark option, .rems-select-dark optgroup{ background: var(--surface); color: var(--text); }
.rems-select-dark::-ms-expand{ display:none; }

.rems-kmap:focus { outline:2px solid var(--accent); outline-offset:2px; }

.rems-focus-pulse{ position:relative; transform:translate(-50%,-50%); pointer-events:none; }
.rems-focus-pulse .rems-ring{
  width:26px; height:26px; border-radius:999px;
  border:2px solid var(--accent);
  box-shadow:0 0 0 0 color-mix(in srgb, var(--accent) 60%, transparent);
  animation:rems-pulse 1.8s ease-out infinite;
  background: color-mix(in srgb, var(--accent) 15%, transparent);
}
.rems-focus-pulse .rems-label{
  position:absolute; top:28px; left:50%; transform:translateX(-50%);
  font-size:12px; padding:2px 8px; border-radius:999px;
  background: color-mix(in srgb, var(--bg) 80%, transparent);
  color: color-mix(in srgb, var(--accent) 75%, var(--text) 25%);
  white-space:nowrap;
  border:1px solid color-mix(in srgb, var(--accent) 25%, var(--border) 75%);
}
@keyframes rems-pulse{
  0% { box-shadow:0 0 0 0 color-mix(in srgb, var(--accent) 60%, transparent); }
  70%{ box-shadow:0 0 0 16px color-mix(in srgb, var(--accent) 0%, transparent); }
  100%{ box-shadow:0 0 0 0 color-mix(in srgb, var(--accent) 0%, transparent); }
}

html[data-theme="light"] .rems-table tbody td{ border-bottom:1px dashed color-mix(in srgb, var(--text) 6%, transparent); }
html[data-theme="light"] .rems-qa-btn{ box-shadow:0 6px 16px color-mix(in srgb, #000 10%, transparent); }
html[data-theme="light"] .rems-qa-btn:hover{ box-shadow:0 10px 22px color-mix(in srgb, #000 16%, transparent); }
html[data-theme="light"] .rems-count-bubble{
  background: color-mix(in srgb, #fff 95%, transparent);
  border: 1px solid color-mix(in srgb, #000 8%, transparent);
  color:#0f172a;
  box-shadow: 0 10px 26px color-mix(in srgb, #000 12%, transparent);
}
html[data-theme="light"] .rems-map-panel,
html[data-theme="light"] .rems-legend{
  background: color-mix(in srgb, #fff 88%, transparent);
  border:1px solid var(--border);
}

.rems-card { border-radius: 12px; }
.rems-card-hd { padding: 12px 14px; }
.rems-hint { font-size: 12px; }

.rems-kpi-card .rems-card-hd h3 { font-size: 13px; }
.rems-updated { font-size: 11px; }

.rems-kpis { gap: 12px; }
.kpi { padding: 12px; border-radius: 12px; }
.kpi-label { font-size: 11px; }
.kpi-value { font-size: 22px; }
.kpi-value.kpi-warn { color: var(--warn, #ef4444); }
.kpi-split { gap: 10px; }
.kpi-sub { padding: 8px 10px; border-radius: 10px; }
.kpi-sub-label { font-size: 11px; }
.kpi-sub-value { font-size: 16px; }


:root.dark .kpi-label { color:#9aa7b4; }
:root.dark .kpi-sub { border-color:#233246; }

.rems-abn-wrap .rems-table-wrap { padding-top: 0; }

.rems-table-sticky thead th {
  position: sticky; top: 0; z-index: 5;
  background: var(--surface);
  backdrop-filter: blur(3px);
}

.rems-abn-wrap .rems-table {
  table-layout: fixed; 
}
.rems-abn-wrap .rems-table th:nth-child(1),
.rems-abn-wrap .rems-table td:nth-child(1) {  left: 0; z-index: 6;
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  min-width: 220px; max-width: 260px;
}
.rems-abn-wrap .rems-table th:nth-child(2),
.rems-abn-wrap .rems-table td:nth-child(2) { min-width: 110px; }
.rems-abn-wrap .rems-table th:nth-child(3),
.rems-abn-wrap .rems-table td:nth-child(3) { min-width: 90px;  text-align: right; }
.rems-abn-wrap .rems-table th:nth-child(4),
.rems-abn-wrap .rems-table td:nth-child(4) { min-width: 200px; }
.rems-abn-wrap .rems-table th:nth-child(5),
.rems-abn-wrap .rems-table td:nth-child(5) { min-width: 90px;  text-align: right; }
.rems-abn-wrap .rems-table th:nth-child(6),
.rems-abn-wrap .rems-table td:nth-child(6) { min-width: 160px; }

.rems-abn-wrap .rems-table tbody td {
  padding: 10px 10px;
  border-bottom: 1px dashed color-mix(in srgb, var(--text) 10%, transparent);
}
.rems-abn-wrap .rems-table tbody tr.zebra:nth-child(even){
  background: color-mix(in srgb, var(--text) 3%, transparent);
}

html[data-theme="light"] .rems-chip {
  background: #ffffff !important;
  color: #1e293b !important;        
  border: 1px solid #e5e7eb !important;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06) !important;
}

html[data-theme="light"] .rems-chip:hover {
  background: #f1f5f9 !important;
  color: #0ea5e9 !important;        
  border-color: #bae6fd !important;
}

html[data-theme="light"] .rems-chip.rems-strong {
  background: #e0f7ff !important;
  color: #0284c7 !important;
  border: 1px solid #7dd3fc !important;
  font-weight: 600 !important;
}

html[data-theme="light"] .rems-chip.rems-dim {
  background: #f3f4f6 !important;
  color: #64748b !important;
  opacity: 0.9 !important;
}

.rems-abn-wrap .rems-tag { 
  display:inline-block; padding:4px 8px; border-radius:999px;
  font-size:11px; line-height:1; border:1px solid color-mix(in srgb, var(--text) 16%, transparent);
}
.rems-abn-wrap .tag-offline { background:#fee2e2; color:#991b1b; border-color:#fecaca; }
.rems-abn-wrap .tag-opmode  { background:#fef3c7; color:#92400e; border-color:#fde68a; }
.rems-abn-wrap .tag-fault   { background:#e5e7eb; color:#1f2937; border-color:#d1d5db; }

.rems-bar { height: 8px; border-radius: 999px; overflow: hidden; }
.rems-bar-fill {
  height: 100%;
  background: color-mix(in srgb, var(--accent) 75%, #38bdf8);
  transition: width .25s ease;
}
.rems-bar-txt { margin-left: 8px; font-size: 11px; }


.rems-abn-wrap .rems-table tbody tr:hover td {
  background: color-mix(in srgb, var(--accent) 10%, transparent);
}

@media (max-width: 1024px) {
  .rems-grid { gap: 12px; padding: 12px; }
  .rems-card { border-radius: 10px; }
  .rems-kpis { grid-template-columns: repeat(3, 1fr); }
  .kpi-value { font-size: 20px; }
  .rems-stat-tiles { grid-template-columns: 1fr 1fr; gap: 8px; }
  .rems-kmap, .rems-map { height: 460px !important; min-height: 460px; }
}

@media (max-width: 768px) {
  .rems-grid { gap: 10px; padding: 10px; }
  .rems-card-hd { padding: 10px 12px; }
  .rems-card-hd h3 { font-size: 12.5px; }
  .rems-updated { font-size: 10.5px; }

  .rems-kpis { grid-template-columns: 1fr 1fr; gap: 10px; }
  .kpi-value { font-size: 18px; }
  .kpi-split { grid-column: 1 / -1; }

  .rems-card.rems-row-2 .rems-table-wrap,
  .rems-abn-wrap .rems-table-wrap {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
  .rems-abn-wrap .rems-table th:nth-child(1),
  .rems-abn-wrap .rems-table td:nth-child(1) {
    min-width: 200px;
  }

  .rems-input-sm { height: 32px; }

  .rems-kmap, .rems-map { height: 380px !important; min-height: 380px; }
  .rems-map-panel { width: 180px; max-height: 320px; padding: 8px; }
  .rems-count-bubble { min-width: 104px; max-width: 140px; }
  .rems-cb-num { font-size: 16px; }
}

@media (max-width: 480px) {
  
  .rems-kpis { grid-template-columns: 1fr; gap: 8px; }
  .kpi { padding: 10px; }
  .kpi-value { font-size: 17px; }
  .kpi-sub-value { font-size: 15px; }
  .rems-stat-tiles { grid-template-columns: 1fr; }

  .rems-table thead th { padding: 8px 6px; font-size: 12px; }
  .rems-table tbody td { padding: 8px 6px; font-size: 12px; }
  .rems-abn-wrap .rems-table th:nth-child(1),
  .rems-abn-wrap .rems-table td:nth-child(1) { min-width: 180px; }

  .rems-kmap, .rems-map { height: 320px !important; min-height: 320px; }
  .rems-map-panel { display:none; } 
}

html[data-theme="light"] .rems-abn-wrap .rems-table tbody tr.zebra:nth-child(even){
  background: rgba(0,0,0,0.02);
}
:root.dark .rems-abn-wrap .rems-table th:nth-child(1),
:root.dark .rems-abn-wrap .rems-table td:nth-child(1){
  background:#0b1220f2;
  border-right:1px solid #1f2937;
}

.kpi-grid-2x2{
  display:grid; grid-template-columns:repeat(2,1fr); gap:12px; padding:12px 14px;
}
.kpi-mini{
  border:1px solid var(--border); border-radius:12px;
  background: var(--surface-2);
  padding:12px; min-height:72px; display:flex; flex-direction:column; justify-content:center;
}
.kpi-mini-label{ font-size:12px; color:var(--muted); margin-bottom:4px; }
.kpi-mini-value{ font-size:17px; font-weight:800; letter-spacing:-0.02em; }
.kpi-mini-unit{ font-size:12px; font-weight:600; color:var(--muted); margin-left:4px; }
@media (max-width: 640px){
  .kpi-grid-2x2{ grid-template-columns:1fr 1fr; gap:10px; }
  .kpi-mini-value{ font-size:19px; }
}

.link-style {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 13px;
  font-weight: 500;
  color: #2f80ed;
  cursor: pointer;
  text-decoration: none;

  padding: 2px 0;
  border-bottom: 1px solid transparent;

  transition: all 0.25s ease;
}

.link-style .ic {
  opacity: 0.7;
  transition: transform 0.25s ease, opacity 0.25s ease;
}


.link-style:hover {
  color: #1b66c9; 
}

.link-style:hover .ic {
  transform: translateX(4px);
  opacity: 1;
}

.kpi-inline{
  display:flex; gap:14px; align-items:center; padding:0 14px 12px; flex-wrap:wrap;
  border-top:1px dashed color-mix(in srgb, var(--text) 12%, transparent); margin-top:10px; padding-top:12px;
}
.kpi-inline-item{ display:flex; align-items:center; gap:6px; }
.kpi-inline-label{ font-size:12px; color:var(--muted); }
.kpi-inline-value{ font-size:15px; font-weight:700; }

.seg-count{
  min-width:20px; height:18px; padding:0 6px;
  border-radius:999px; display:inline-flex; align-items:center; justify-content:center;
  font-weight:700;
  background: color-mix(in srgb, var(--surface) 92%, transparent);
  border:1px solid var(--border);
}

@media (max-width: 640px){
  .seg-pill{ padding:7px 10px; font-size:11.5px; }
  .seg-count{ height:16px; font-size:11px; }
}

.abn-total{
  margin-left:auto;
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 12px; border-radius:12px;
  background: color-mix(in srgb, var(--accent) 10%, transparent);
  border:1px solid color-mix(in srgb, var(--accent) 45%, transparent);
  color: color-mix(in srgb, var(--accent) 70%, var(--text) 30%);
  font-weight:600;
}
.abn-total b{ font-size:16px; }
.abn-total .label{ font-size:12px; color: var(--muted); }

html[data-theme="light"] .rems-abn-summaryline{
  background: color-mix(in srgb, #fff 96%, transparent);
  border-top-color: color-mix(in srgb, #000 7%, transparent);
  border-bottom-color: color-mix(in srgb, #000 7%, transparent);
}
html[data-theme="light"] .abn-chip.slate{
  background:#eef2f7; border-color:#d7dde5; color:#334155;
}

@media (max-width: 900px){
  .rems-abn-summaryline{ flex-wrap:wrap; gap:6px; }
  .abn-total{ order:-1; width:100%; justify-content:space-between; }
}
@media (max-width: 900px){
  .kpi-grid-2x2{ grid-template-columns: 1fr; gap:10px; }
  .rems-stat-tiles{ grid-template-columns: 1fr; }
  .rems-t-value{ font-size: 16px; }
  .rems-card-hd h3{ font-size: 13px; }
}

.rems-col-6-md{ grid-column: span 6; }
@media (max-width:1200px){ .rems-col-6-md{ grid-column: span 12; } }
.rems-pin { position: relative; transform: translateY(-4px); user-select: none; }
.rems-pin .rp-dot {
  width: 14px; height: 14px; border-radius: 50%;
  background: #ef4444; box-shadow: 0 0 0 2px rgba(239,68,68,.25);
}
.rems-pin .rp-label {
  position: absolute; top: -22px; left: 50%; transform: translateX(-50%);
  font-size: 11px; padding: 2px 6px; border-radius: 10px;
  background: rgba(17,24,39,.9); color: #fff; white-space: nowrap;
}
.rems-pin--offline .rp-dot { background: #f59e0b; box-shadow: 0 0 0 2px rgba(245,158,11,.25); }
.rems-pin--opmode_abnormal .rp-dot { background: #fb923c; box-shadow: 0 0 0 2px rgba(251,146,60,.25); }
.rems-pin--fault_bit .rp-dot { background: #ef4444; box-shadow: 0 0 0 2px rgba(239,68,68,.25); }

.rems-pin { position: relative; transform: translateY(-4px); user-select: none; }
.rems-pin .rp-dot {
  width: 14px; height: 14px; border-radius: 50%;
  background: #ef4444; box-shadow: 0 0 0 2px rgba(239,68,68,.25);
}
.rems-pin .rp-label {
  position: absolute; top: -22px; left: 50%; transform: translateX(-50%);
  font-size: 11px; padding: 2px 6px; border-radius: 10px;
  background: rgba(17,24,39,.9); color: #fff; white-space: nowrap;
  line-height: 1.2;
}

.rems-pin--offline .rp-dot { background: #f59e0b; box-shadow: 0 0 0 2px rgba(245,158,11,.25); }
.rems-pin--opmode_abnormal .rp-dot { background: #fb923c; box-shadow: 0 0 0 2px rgba(251,146,60,.25); }
.rems-pin--fault_bit .rp-dot { background: #ef4444; box-shadow: 0 0 0 2px rgba(239,68,68,.25); }

.rems-marker-offline {
  position: relative;
  width: 22px;
  height: 22px;
  transform: translate(-50%, -100%);
}

.rems-marker-offline-dot {
  position: absolute;
  width: 16px;
  height: 16px;
  top: 3px;
  left: 3px;
  border-radius: 50%;
  background-color: #ef4444; 
  box-shadow: 0 0 8px rgba(239,68,68,0.8);
  animation: rems-blink 1.4s infinite;
}

.rems-marker-offline-glow {
  position: absolute;
  width: 16px;
  height: 16px;
  top: 3px;
  left: 3px;
  border-radius: 50%;
  background-color: rgba(239,68,68,0.35);
  animation: rems-pulse2 1.8s infinite;
}

@keyframes rems-blink {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.4; transform: scale(1.1); }
}

@keyframes rems-pulse2 {
  0% { transform: scale(1); opacity: .5; }
  70% { transform: scale(2); opacity: 0; }
  100% { transform: scale(1); opacity: 0; }
}

.rems-marker-offline {
  position: relative;
  width: 22px; height: 22px;
  transform: translate(-50%, -100%);
}
.rems-marker-offline-dot {
  position: absolute; top: 3px; left: 3px;
  width: 16px; height: 16px; border-radius: 50%;
  background-color: #ef4444;
  box-shadow: 0 0 8px rgba(239,68,68,0.85);
  animation: rems-blink 1.4s infinite;
}
.rems-marker-offline-glow {
  position: absolute; top: 3px; left: 3px;
  width: 16px; height: 16px; border-radius: 50%;
  background-color: rgba(239,68,68,0.35);
  animation: rems-pulse2 1.8s infinite;
}

.link-btn{
  background: transparent;
  border: 0;
  font-size: 12px;
  text-decoration: underline;
  cursor: pointer;
  margin-left: 8px;
  color: var(--accent, #38bdf8);
}
.link-btn:hover{ opacity:.9; }

.btn{
  padding: 8px 12px; border-radius: 10px; border: 0; cursor: pointer;
}
.btn.ghost{
  background: transparent;
  border: 1px solid rgba(255,255,255,.2);
  color: inherit;
}
@media (prefers-color-scheme: light){
  .btn.ghost{ border-color: rgba(0,0,0,.2); }
}

.ml-6{ margin-left: 6px; }

.rems-marker-offline {
  position: relative;
  width: 22px; height: 22px;
  transform: translate(-50%, -100%);
}
.rems-marker-offline-dot {
  position: absolute; top: 3px; left: 3px;
  width: 16px; height: 16px; border-radius: 50%;
  background-color: #ef4444;            
  box-shadow: 0 0 8px rgba(239,68,68,0.85);
  animation: rems-blink 1.4s infinite;
}
.rems-marker-offline-glow {
  position: absolute; top: 3px; left: 3px;
  width: 16px; height: 16px; border-radius: 50%;
  background-color: rgba(239,68,68,0.35);
  animation: rems-pulse2 1.8s infinite;
}

.rems-marker-op {
  position: relative;
  width: 22px; height: 22px;
  transform: translate(-50%, -100%);
}
.rems-marker-op-dot {
  position: absolute; top: 3px; left: 3px;
  width: 16px; height: 16px; border-radius: 50%;
  background-color: #f59e0b;            
  box-shadow: 0 0 8px rgba(245,158,11,0.85);
  animation: rems-blink 1.6s infinite;  
}
.rems-marker-op-glow {
  position: absolute; top: 3px; left: 3px;
  width: 16px; height: 16px; border-radius: 50%;
  background-color: rgba(245,158,11,0.35);
  animation: rems-pulse2 2.0s infinite;
}

@keyframes rems-blink {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.45; transform: scale(1.08); }
}
@keyframes rems-pulse2 {
  0% { transform: scale(1); opacity: .5; }
  70% { transform: scale(2); opacity: 0; }
  100% { transform: scale(1); opacity: 0; }
}

.map-mode-tabs {
  display: flex;
  gap: 6px;
}
.map-tab {
  padding: 4px 10px;
  border-radius: 6px;
  background: var(--surface-2, #f3f4f6);
  color: #374151;
  font-size: 13px;
  border: none;
  cursor: pointer;
}
.map-tab.active {
  background: #02A39F;
  color: white;
  font-weight: 600;
}
.map-tab:hover {
  background: #86efac;
}

.map-mode-tabs {
  display: inline-flex;
  background: var(--surface-2);
  padding: 4px;
  border-radius: 10px;
  gap: 4px;
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--border) 60%, transparent);
}

.map-tab {
  padding: 6px 14px;
  font-size: 13.5px;
  font-weight: 500;
  border-radius: 8px;
  border: none;
  background: transparent;
  color: var(--text);
  cursor: pointer;
  transition: all .15s ease;
}

.map-tab:hover {
  background: color-mix(in srgb, var(--accent) 12%, transparent);
}

.map-tab.active {
  background: rgba(2, 163, 159);
  color: #fff;
  font-weight: 600;
  box-shadow: 0 1px 2px rgba(0,0,0,0.15);
}

html[data-theme="dark"] .map-mode-tabs {
  background: color-mix(in srgb, var(--surface) 60%, #000);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06);
}

html[data-theme="dark"] .map-tab {
  color: var(--text);
}

html[data-theme="dark"] .map-tab:hover {
  background: rgba(255,255,255,0.08);
}

html[data-theme="dark"] .map-tab.active {
  background: #16a34a; 
  color: #fff;
}

.rems-marker-normal-dot {
  width: 10px; height: 10px; border-radius: 9999px;
  background: #22c55e;
  box-shadow: 0 0 10px rgba(34, 197, 94, 0.6);
}
.rems-marker-normal-glow {
  position: absolute;
  width: 22px; height: 22px; border-radius: 9999px;
  background: rgba(34, 197, 94, 0.3);
  animation: pulseGreen 2s infinite;
}
@keyframes pulseGreen {
  0% { transform: scale(0.8); opacity: .9 }
  70% { transform: scale(1.4); opacity: 0.1 }
  100% { transform: scale(0.8); opacity: 0 }
}

.rems-row-click { cursor: pointer; }

.rems-marker {
  position: relative;
  transform: translateY(-6px);
  border: 2px solid;
  background: rgba(17,24,39,.85); 
  color: #fff;
  padding: 6px 8px;
  border-radius: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,.35);
  backdrop-filter: blur(4px);
  cursor: pointer;
  white-space: nowrap;
  user-select: none;
  font-size: 12px;
  line-height: 1;
}
.rems-marker::after {
  content: "";
  position: absolute;
  left: 50%; bottom: -6px;
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: currentColor;
  opacity: .7;
}
.rems-marker-dot {
  width: 8px; height: 8px;
  border-radius: 9999px;
  background: currentColor;
  display: inline-block;
  margin-right: 6px;
}
.rems-marker-badge {
  font-size: 11px;
  opacity: .95;
}

.rems-marker-tooltip {
  background: rgba(17,24,39,.9);
  color: #fff;
  padding: 6px 8px;
  border-radius: 8px;
  font-size: 12px;
  line-height: 1.4;
  box-shadow: 0 3px 10px rgba(0,0,0,.3);
  pointer-events: none;
  white-space: nowrap;
}

.rems-region-bubble {
  background: rgba(255,255,255,0.95);
  border-radius: 50%;
  padding: 10px;
  border: 2px solid #22c55e;
  width: 80px; height: 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: #111;
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
  text-align: center;
}
.bubble-title { font-size: 12px; margin-bottom: 2px; }
.bubble-value { font-size: 18px; color: #22c55e; }

.rems-focus-pulse .rems-ring {
  width: 26px; height: 26px;
  border-radius: 9999px;
  border: 3px solid #22d3ee;
  opacity: .7;
  animation: rems-pulse 1.8s infinite;
}
.rems-focus-pulse .rems-label {
  margin-top: 4px;
  background: rgba(34,211,238,.15);
  color: #22d3ee;
  padding: 2px 8px;
  border-radius: 9999px;
  font-size: 11px;
  border: 1px solid rgba(34,211,238,.4);
  text-align: center;
}
@keyframes rems-pulse {
  0% { transform: scale(.7); opacity: .9; }
  70% { transform: scale(1.3); opacity: .2; }
  100% { transform: scale(.7); opacity: .0; }
}

.rems-marker-fadein {
  animation: fadeIn .4s ease-out forwards;
  opacity: 0;
  transform: translateY(-6px) scale(.9);
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-6px) scale(.7); }
  to { opacity: 1; transform: translateY(-6px) scale(1); }
}

.rems-detail-panel {
  position: absolute;
  top: 8px; right: 8px;
  width: 300px;
  border-radius: 14px;
  padding: 12px 14px 14px;
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(12px);
  transition: all 0.25s ease;
  z-index: 1200;
}

@media (prefers-color-scheme: dark) {
  .rems-detail-panel {
    background: rgba(17, 24, 39, 0.92);
    border: 1px solid rgba(255, 255, 255, 0.08);
    color: #e2e8f0;
  }

  .detail-hd .detail-title {
    color: #f8fafc;
    font-weight: 700;
    font-size: 15px;
  }

  .detail-row .dt {
    color: #94a3b8;
    font-weight: 500;
    font-size: 12px;
  }
  .detail-row .dd {
    color: #e2e8f0;
    font-size: 12px;
  }

  .rems-detail-panel a {
    display: block;
    text-align: center;
    margin-top: 10px;
    padding: 10px 0;
    border-radius: 10px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.25s ease;
    background: rgba(59,130,246,0.18);
    border: 1px solid rgba(147,197,253,0.25);
    color: #cbdcff;
    backdrop-filter: blur(6px);
  }
  .rems-detail-panel a:hover {
    background: rgba(59,130,246,0.3);
    color: #e0ecff;
    box-shadow: 0 3px 10px rgba(59,130,246,0.35);
    transform: translateY(-1px);
  }

  .detail-close {
    color: #94a3b8;
  }
  .detail-close:hover {
    color: #f1f5f9;
  }
}

@media (prefers-color-scheme: light) {
  .rems-detail-panel {
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(0, 0, 0, 0.06);
    color: #1e293b;
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.1);
  }

  .detail-hd .detail-title {
    color: #0f172a;
    font-weight: 700;
    font-size: 15px;
  }

  .detail-row .dt {
    color: #475569;
    font-weight: 500;
    font-size: 12px;
  }
  .detail-row .dd {
    color: #0f172a;
    font-size: 12px;
  }

  .rems-detail-panel a {
    display: block;
    text-align: center;
    margin-top: 10px;
    padding: 10px 0;
    border-radius: 10px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.25s ease;
    background: linear-gradient(180deg, #e3ecff, #c7d8ff);
    color: #1e3a8a;
    border: 1px solid rgba(30,58,138,0.2);
    box-shadow: 0 2px 5px rgba(30,58,138,0.15);
  }
  .rems-detail-panel a:hover {
    background: linear-gradient(180deg, #d7e3ff, #b9d0ff);
    color: #0f172a;
    box-shadow: 0 3px 8px rgba(30,58,138,0.25);
    transform: translateY(-1px);
  }

  .detail-close {
    color: #64748b;
  }
  .detail-close:hover {
    color: #0f172a;
  }
}

.detail-hd {
  display: flex;
  align-items: center;
  gap: 8px;
}
.detail-close {
  margin-left: auto;
  background: transparent;
  border: 0;
  cursor: pointer;
  font-size: 16px;
}
.detail-body {
  margin-top: 8px;
  display: grid;
  gap: 6px;
}
.detail-row {
  display: flex;
  gap: 8px;
}
.detail-row .dt { width: 72px; }
.detail-ft { margin-top: 10px; }

.rate-ok { color: #16a34a; font-weight: 700; }
.rate-warn { color: #f59e0b; font-weight: 700; }
.rate-bad { color: #ef4444; font-weight: 700; }

.w100 { width: 100%; }
.map-loading-overlay {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.3);
  z-index: 2000;
  backdrop-filter: blur(2px);
}

.map-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid rgba(255,255,255,0.3);
  border-top-color: #22d3ee; 
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
.rems-dropdown {
  position: relative;
  display: inline-block;
}
.rems-dropdown-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 6px 10px;
  font-size: 14px;
  cursor: pointer;
  transition: background 0.2s;
}
.rems-dropdown-btn:hover {
  background: #f3f4f6;
}
.rems-dropdown-list {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 160px;
  background: white;
  border: 1px solid var(--border);
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  z-index: 1000;
  padding: 4px 0;
}
.rems-dropdown-list li {
  padding: 8px 12px;
  cursor: pointer;
  font-size: 14px;
}
.rems-dropdown-list li:hover {
  background: #f1f5f9;
}
.rems-dropdown--enhanced {
  position: relative;
}

.rems-dropdown-panel {
  position: absolute;
  top: 100%;
  left: 0;
  width: 260px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  box-shadow: 0 6px 16px rgba(0,0,0,0.15);
  padding: 8px 0;
  max-height: 340px;
  overflow-y: auto;
  z-index: 20;
}

.rems-dropdown-search {
  width: 90%;
  margin: 6px auto 10px;
  padding: 6px 8px;
  display: block;
  border: 1px solid var(--border);
  border-radius: 6px;
  background: var(--surface-2);
  color: var(--text);
}

.rems-group {
  margin-bottom: 8px;
}

.rems-group h4 {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--muted);
  margin: 6px 12px 4px;
}

.rems-group ul {
  list-style: none;
  margin: 0;
  padding: 0 8px;
}

.rems-group li {
  padding: 6px 10px;
  cursor: pointer;
  border-radius: 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.rems-group li:hover {
  background: color-mix(in srgb, var(--accent) 12%, transparent);
}

.rems-group li.active {
  background: color-mix(in srgb, var(--accent) 22%, transparent);
  color: var(--accent);
}
.rems-marker,
.rems-marker * {
  position: relative !important;
  z-index: 800 !important; 
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
}

.map-loading-overlay {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.65);
  z-index: 9999 !important;  
  transition: opacity 0.3s ease;
}

.map-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid rgba(0,0,0,0.2);
  border-top-color: #22d3ee;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.rems-seg.seg-modern {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}


.seg-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  border-radius: 999px;
  font-size: 13px;
  font-weight: 600;
  color: var(--text, #1e293b);
  background: var(--surface-2, #f8fafc);
  border: 1px solid color-mix(in srgb, var(--border, #cbd5e1) 60%, transparent);
  cursor: pointer;
  transition: all 0.25s ease;
}

.seg-pill:hover {
  background: color-mix(in srgb, var(--accent, #38bdf8) 10%, transparent);
  border-color: color-mix(in srgb, var(--accent, #38bdf8) 25%, var(--border));
}

.seg-pill.active {
  background: var(--accent, #38bdf8);
  color: #fff;
  border-color: transparent;
  box-shadow: 0 2px 6px rgba(56,189,248,0.35);
}

.seg-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  display: inline-block;
}
.seg-all { background: #94a3b8; }
.seg-offline { background: #ef4444; }
.seg-op { background: #f59e0b; }

.seg-count {
  background: color-mix(in srgb, var(--surface) 94%, transparent);
  border-radius: 8px;
  padding: 1px 6px;
  font-size: 11px;
  font-weight: 600;
  color: var(--muted, #64748b);
  border: 1px solid color-mix(in srgb, var(--border, #cbd5e1) 70%, transparent);
  margin-left: 4px;
}

html[data-theme='dark'] .seg-pill {
  background: color-mix(in srgb, #1e293b 85%, transparent);
  color: #e2e8f0;
  border-color: rgba(255,255,255,0.08);
}
html[data-theme='dark'] .seg-pill.active {
  background: var(--accent, #38bdf8);
  color: #fff;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes modal-fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.rems-marker-normal-wrapper {
  position: relative !important;
  width: 16px !important;
  height: 16px !important;
  cursor: pointer !important;
  transition: transform 0.2s ease !important;
}

.rems-marker-normal-wrapper:hover {
  transform: scale(1.3) !important;
  z-index: 10 !important;
}

.rems-marker-normal-dot {
  width: 100% !important;
  height: 100% !important;
  border-radius: 50% !important;
  background: #22c55e !important;
  border: 2px solid #ffffff !important;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4) !important;
  position: relative !important;
  z-index: 2 !important;
}

.rems-marker-normal-ring {
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  width: 100% !important;
  height: 100% !important;
  border-radius: 50% !important;
  border: 1px solid #22c55e !important;
  opacity: 0 !important;
  animation: normalPulse 2.5s infinite !important;
  z-index: 1 !important;
}

@keyframes normalPulse {
  0% { width: 100%; height: 100%; opacity: 0.6; }
  100% { width: 240%; height: 240%; opacity: 0; }
}

.abn-total {
  display:flex !important;
  align-items:center !important;
  gap:4px !important;
  color:#555 !important;
}
.modal__table {
  max-height: 520px !important;
  overflow-y: auto !important;
}
.modal {
  position: relative !important;
}

@media (max-width: 768px) {
  .rems-map-breadcrumbs {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
    padding: 10px 12px !important;
    height: auto !important;
  }

  .rems-map-hd-flex h3 {
    display: none;
  }

  .rems-map-hd-flex {
    width: 100%;
    margin-bottom: 4px;
  }

  .map-mode-tabs {
    display: flex;
    width: 100%;
    background-color: #f1f5f9;
    border-radius: 8px;
    padding: 3px;
  }

  .map-tab {
    flex: 1;
    text-align: center;
    padding: 6px 0 !important;
    font-size: 13px !important;
    border-radius: 6px;
    border: none;
    background-color: transparent;
    color: #64748b !important; 
  }
  
  .map-tab.active {
    background-color: #fff !important;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    font-weight: 600;
    
    color: #0f172a !important;
  }
  .rems-crumbs {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 4px;
  }
  .rems-chip {
    font-size: 12px !important;
    padding: 4px 8px !important;
    height: 28px !important;
    line-height: 20px !important;
  }
  
  .rems-sep {
    font-size: 10px;
    margin: 0 2px;
  }
}

@media (max-width: 768px) {
  .rems-abn-summaryline, 
  .modal__summary {
    display: none !important;
  }

  .modal {
    width: 92% !important;
    max-height: 85vh !important;
    border-radius: 16px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .modal__body {
    padding: 16px 12px !important;
    background-color: #f1f5f9;
    overflow-y: auto;
  }

  .modal__tools {
    flex-direction: column;
    gap: 12px;
    padding: 0 4px;
    margin-bottom: 8px;
  }
  
  .rems-seg {
    width: 100%;
    display: flex;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    gap: 8px;
    overflow-x: auto;
  }
  
  .seg-pill {
    flex: 1;
    min-width: 80px;
    height: 40px;
    justify-content: center;
    white-space: nowrap;
    padding: 0 4px;
  }
  
  .modal__search { width: 100%; }
  .modal__input { width: 100%; height: 44px; border-radius: 8px; font-size: 15px; }

  .modal__table, .modal__table tbody { display: block; width: 100%; }
  .modal__table thead { display: none; }

  .modal__table tbody tr {
    display: flex;
    flex-direction: column;
    background-color: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 20px 16px;
    margin-bottom: 16px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
  }

  .modal__table tbody td {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 6px 0;
    border: none !important;
    font-size: 14px;
    color: #334155;
    line-height: 1.5;
  }

  .modal__table tbody td:nth-child(1) {
    display: block;
    font-weight: 800;
    font-size: 17px;
    color: #0f172a;
    padding-bottom: 12px;
    margin-bottom: 10px;
    border-bottom: 2px solid #f1f5f9 !important;
  }
  .modal__table tbody td:nth-child(1)::before { display: none; }

  .modal__table tbody td:nth-child(2)::before,
  .modal__table tbody td:nth-child(3)::before,
  .modal__table tbody td:nth-child(4)::before {
    display: inline-block;
    width: 90px;
    min-width: 90px;
    font-weight: 600;
    color: #94a3b8;
    text-align: left;
  }
  
  .modal__table tbody td:nth-child(2)::before { content: "현재 상태"; }
  .modal__table tbody td:nth-child(3)::before { content: "마지막 수신"; }
  .modal__table tbody td:nth-child(4)::before { content: "경과 시간"; }

  .modal__table tbody td:nth-child(2),
  .modal__table tbody td:nth-child(4) { font-weight: 500; }

  .modal__table tbody td:nth-child(3) {
    text-align: right;
    font-size: 0 !important; 
  }
  .modal__table tbody td:nth-child(3) small {
    font-size: 14px !important;
    color: #334155 !important;
    font-weight: 500;
    display: block;
    margin-top: 0;
  }

  .modal__table tbody td:nth-child(5) {
    display: block !important;
    width: 100%;
    margin-top: 12px;
    padding: 0;
  }

  .modal__table tbody td:nth-child(5)::before {
    content: "상세 원인";
    display: block;
    font-weight: 600;
    color: #94a3b8;
    margin-bottom: 8px;
    width: 100%;
  }

  .modal__table tbody td:nth-child(5) > span {
    display: block;
    width: 100%;
    box-sizing: border-box;
    background-color: #f8fafc;
    border: 1px solid #e2e8f0;
    padding: 12px;
    border-radius: 8px;
    color: #475569;
    font-size: 14px;
    line-height: 1.5;
    text-align: left;
    
    word-break: keep-all; 
    word-wrap: break-word;
  }
  
  .modal__table tbody td:nth-child(5):empty { display: none; }
}